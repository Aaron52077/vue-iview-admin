(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors~api~echarts"],{"0a4f":function(e,t,i){var n=i("3eba"),a=i("f934");i("365b"),i("c03d");var r=i("793f");if(!r.isSupported)throw new Error("Sorry your browser not support wordCloud");function o(e){for(var t=e.getContext("2d"),i=t.getImageData(0,0,e.width,e.height),n=t.createImageData(i),a=0,r=0,o=0;o<i.data.length;o+=4){var s=i.data[o+3];if(s>128){var l=i.data[o]+i.data[o+1]+i.data[o+2];a+=l,++r}}var c=a/r;for(o=0;o<i.data.length;o+=4){l=i.data[o]+i.data[o+1]+i.data[o+2],s=i.data[o+3];s<128||l>c?(n.data[o]=0,n.data[o+1]=0,n.data[o+2]=0,n.data[o+3]=0):(n.data[o]=255,n.data[o+1]=255,n.data[o+2]=255,n.data[o+3]=255)}t.putImageData(n,0,0)}n.registerLayout((function(e,t){e.eachSeriesByType("wordCloud",(function(i){var s=a.getLayoutRect(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=i.getData(),c=document.createElement("canvas");c.width=s.width,c.height=s.height;var u=c.getContext("2d"),d=i.get("maskImage");if(d)try{u.drawImage(d,0,0,c.width,c.height),o(c)}catch(y){console.error("Invalid mask image"),console.error(y.toString())}var m=i.get("sizeRange"),p=i.get("rotationRange"),f=l.getDataExtent("value"),h=Math.PI/180,v=i.get("gridSize");function g(e){var t=e.detail.item;e.detail.drawn&&i.layoutInstance.ondraw&&(e.detail.drawn.gx+=s.x/v,e.detail.drawn.gy+=s.y/v,i.layoutInstance.ondraw(t[0],t[1],t[2],e.detail.drawn))}r(c,{list:l.mapArray("value",(function(e,t){var i=l.getItemModel(t);return[l.getName(t),i.get("textStyle.normal.textSize",!0)||n.number.linearMap(e,f,m),t]})).sort((function(e,t){return t[1]-e[1]})),fontFamily:i.get("textStyle.normal.fontFamily")||i.get("textStyle.emphasis.fontFamily")||e.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.normal.fontWeight")||i.get("textStyle.emphasis.fontWeight")||e.get("textStyle.fontWeight"),gridSize:v,ellipticity:s.height/s.width,minRotation:p[0]*h,maxRotation:p[1]*h,clearCanvas:!d,rotateRatio:1,rotationStep:i.get("rotationStep")*h,drawOutOfBound:i.get("drawOutOfBound"),shuffle:!1,shape:i.get("shape")}),c.addEventListener("wordclouddrawn",g),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){c.removeEventListener("wordclouddrawn",g),c.addEventListener("wordclouddrawn",(function(e){e.preventDefault()}))}}}))})),n.registerPreprocessor((function(e){var t=(e||{}).series;!n.util.isArray(t)&&(t=t?[t]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function a(e){e&&n.util.each(i,(function(t){e.hasOwnProperty(t)&&(e["text"+n.format.capitalFirst(t)]=e[t])}))}n.util.each(t,(function(e){if(e&&"wordCloud"===e.type){var t=e.textStyle||{};a(t.normal),a(t.emphasis)}}))}))},"10d5":function(e,t,i){e.exports=i("250d")},2114:function(e,t,i){var n=i("313e");function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var r=n.extendComponentView({type:"bmap",render:function(e,t,i){var r=!0,o=e.getBMap(),s=i.getZr().painter.getViewportRoot(),l=e.coordinateSystem,c=function(t,n){if(!r){var a=s.parentNode.parentNode.parentNode,o=[-parseInt(a.style.left,10)||0,-parseInt(a.style.top,10)||0];s.style.left=o[0]+"px",s.style.top=o[1]+"px",l.setMapOffset(o),e.__mapOffset=o,i.dispatchAction({type:"bmapRoam"})}};function u(){r||i.dispatchAction({type:"bmapRoam"})}o.removeEventListener("moving",this._oldMoveHandler),o.removeEventListener("moveend",this._oldMoveHandler),o.removeEventListener("zoomend",this._oldZoomEndHandler),o.addEventListener("moving",c),o.addEventListener("moveend",c),o.addEventListener("zoomend",u),this._oldMoveHandler=c,this._oldZoomEndHandler=u;var d=e.get("roam");d&&"scale"!==d?o.enableDragging():o.disableDragging(),d&&"move"!==d?(o.enableScrollWheelZoom(),o.enableDoubleClickZoom(),o.enablePinchToZoom()):(o.disableScrollWheelZoom(),o.disableDoubleClickZoom(),o.disablePinchToZoom());var m=e.__mapStyle,p=e.get("mapStyle")||{},f=JSON.stringify(p);JSON.stringify(m)!==f&&(a(v)||o.setMapStyle(n.util.clone(p)),e.__mapStyle=JSON.parse(f));var h=e.__mapStyle2,v=e.get("mapStyleV2")||{},g=JSON.stringify(v);JSON.stringify(h)!==g&&(a(v)||o.setMapStyleV2(n.util.clone(v)),e.__mapStyle2=JSON.parse(g)),r=!1}});e.exports=r},"250d":function(e,t,i){!function(t,n){e.exports=n(i("313e"))}(0,(function(e){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t,i){t.exports=e},function(e,t,i){function n(e,t){this._amap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=t}var a=i(0);n.prototype.dimensions=["lng","lat"],n.prototype.setZoom=function(e){this._zoom=e},n.prototype.setCenter=function(e){this._center=this._amap.lnglatToPixel(e)},n.prototype.setMapOffset=function(e){this._mapOffset=e},n.prototype.getAMap=function(){return this._amap},n.prototype.dataToPoint=function(e){var t=new AMap.LngLat(e[0],e[1]),i=this._amap.lngLatToContainer(t),n=this._mapOffset;return[i.x-n[0],i.y-n[1]]},n.prototype.pointToData=function(e){var t=this._mapOffset;e=this._amap.containerToLngLat({x:e[0]+t[0],y:e[1]+t[1]});return[e.lng,e.lat]},n.prototype.getViewRect=function(){var e=this._api;return new a.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())},n.prototype.getRoamTransform=function(){return a.matrix.create()},n.dimensions=n.prototype.dimensions,n.create=function(e,t){var i,r=t.getDom();e.eachComponent("amap",(function(e){var o=t.getZr().painter.getViewportRoot();if("undefined"==typeof AMap)throw new Error("AMap api is not loaded");if(i)throw new Error("Only one amap component can exist");if(!e.__amap){var s=r.querySelector(".ec-extension-amap");s&&(o.style.left="0px",o.style.top="0px",r.removeChild(s)),s=document.createElement("div"),s.style.cssText="width:100%;height:100%",s.classList.add("ec-extension-amap"),r.appendChild(s);var l=e.get()||{};l=e.__options=a.util.clone(l);var c=e.__amap=new AMap.Map(s,l),u=e.__layer=new AMap.CustomLayer(o);u.setMap(c)}c=e.getAMap(),u=e.getLayer();u.hide();var d=c.getZoom(),m=c.getCenter();i=new n(c,t),i.setMapOffset(e.__mapOffset||[0,0]),i.setZoom(d),i.setCenter([m.lng,m.lat]),e.coordinateSystem=i,u.show()})),e.eachSeries((function(e){"amap"===e.get("coordinateSystem")&&(e.coordinateSystem=i)}))},e.exports=n},function(e,t,i){function n(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}e.exports=i(0).extendComponentModel({type:"amap",getAMap:function(){return this.__amap},getLayer:function(){return this.__layer},getMapOptions:function(){return this.__options},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,t){var i=this.option;return!(n(e,i.center)&&t===i.zoom)},defaultOption:{center:[116.397475,39.908695],zoom:4}})},function(e,t,i){function n(e,t,i){var n,a,r,o;return o=function(){n=!1,a&&(r.apply(i,a),a=!1)},r=function(){n?a=arguments:(e.apply(i,arguments),setTimeout(o,t),n=!0)}}var a=i(0);e.exports=i(0).extendComponentView({type:"amap",render:function(e,t,i){function r(){s||i.dispatchAction({type:"amapRoam"})}function o(e){a.getInstanceByDom(i.getDom()).resize(),d.call(this,e)}var s=!0,l=e.getAMap(),c=i.getZr().painter.getViewportRoot(),u=e.coordinateSystem,d=function(t){if(!s){var n=c.parentNode.parentNode.parentNode,a=[-parseInt(n.style.left,10)||0,-parseInt(n.style.top,10)||0];c.style.left=a[0]+"px",c.style.top=a[1]+"px",u.setMapOffset(a),e.__mapOffset=a,i.dispatchAction({type:"amapRoam"})}},m=n(o,300,l);l.off("movestart",this._oldMoveHandler),l.off("zoomend",this._oldZoomEndHandler),l.off("moveend",this._oldZoomEndHandler),l.off("complete",this._oldZoomEndHandler),e.get("resizeEnable")&&l.off("resize",this._oldResizeHandler),l.on("movestart",d),l.on("zoomend",r),l.on("moveend",r),l.on("complete",r),e.get("resizeEnable")&&l.on("resize",m),this._oldMoveHandler=d,this._oldZoomEndHandler=r,this._oldResizeHandler=m,s=!1}})},function(e,t,i){i(0).registerCoordinateSystem("amap",i(1)),i(2),i(3),i(0).registerAction({type:"amapRoam",event:"amapRoam",update:"updateLayout"},(function(e,t){t.eachComponent("amap",(function(e){var t=e.getAMap(),i=t.getCenter();e.setCenterAndZoom([i.lng,i.lat],t.getZoom())}))})),e.exports={version:"1.0.0-rc.6"}}])}))},2819:function(e,t,i){(function(t,n){e.exports=n(i("3eba"),i("007d"),i("d28f"),i("94b1"),i("ef97"),i("c037"),i("a4b1"),i("8deb"),i("675c"),i("a00a"),i("10d5"),i("311a"),i("5ce2"),i("5450"),i("15af"),i("085d"),i("0a6d"),i("07e6"),i("ef97a"),i("d015"),i("87a1"))})(0,(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e;var t={categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}},i=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],n=["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"],a=["blue","blue","green","yellow","red"],r=function(e){return['<span style="',"background-color:"+e+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},o=["initOptions","loading","dataEmpty","judgeWidth","widthChangeDelay"],s=["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"],l={th:3,mi:6,bi:9,tr:12},c={zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0,abbrLabel:{th:"k",mi:"m",bi:"b",tr:"t"}},u=1e12,d=1e9,m=1e6,p=1e3;function f(e){return"number"===typeof e&&isNaN(e)}function h(e,t,i,n){var a=e.toString().split("."),r=t-(n||0),o=2===a.length?Math.min(Math.max(a[1].length,r),t):r,s=Math.pow(10,o),l=(i(e+"e+"+o)/s).toFixed(o);if(n>t-o){var c=new RegExp("\\.?0{1,"+(n-(t-o))+"}$");l=l.replace(c,"")}return l}function v(e,t,i,n){var a=Math.abs(t),r=!1,o=!1,s="",c="",f=!1,v=void 0,g=void 0;i=i||"",t=t||0,~i.indexOf("(")?(r=!0,i=i.replace(/[(|)]/g,"")):(~i.indexOf("+")||~i.indexOf("-"))&&(g=~i.indexOf("+")?i.indexOf("+"):t<0?i.indexOf("-"):-1,i=i.replace(/[+|-]/g,"")),~i.indexOf("a")&&(v=i.match(/a(k|m|b|t)?/),v=!!v&&v[1],~i.indexOf(" a")&&(s=" "),i=i.replace(new RegExp(s+"a[kmbt]?"),""),a>=u&&!v||"t"===v?(s+=e.abbrLabel.tr,t/=u):a<u&&a>=d&&!v||"b"===v?(s+=e.abbrLabel.bi,t/=d):a<d&&a>=m&&!v||"m"===v?(s+=e.abbrLabel.mi,t/=m):(a<m&&a>=p&&!v||"k"===v)&&(s+=e.abbrLabel.th,t/=p)),~i.indexOf("[.]")&&(o=!0,i=i.replace("[.]","."));var y=t.toString().split(".")[0],b=i.split(".")[1],x=i.indexOf(","),w=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length;if(b?(~b.indexOf("[")?(b=b.replace("]",""),b=b.split("["),c=h(t,b[0].length+b[1].length,n,b[1].length)):c=h(t,b.length,n),y=c.split(".")[0],c=~c.indexOf(".")?"."+c.split(".")[1]:"",o&&0===+c.slice(1)&&(c="")):y=h(t,0,n),s&&!v&&+y>=1e3&&s!==l.trillion&&(y=""+ +y/1e3,s=l.million),~y.indexOf("-")&&(y=y.slice(1),f=!0),y.length<w)for(var M=w-y.length;M>0;M--)y="0"+y;x>-1&&(y=y.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),i.indexOf(".")||(y="");var S=y+c+(s||"");return r?S=(r&&f?"(":"")+S+(r&&f?")":""):g>=0?S=0===g?(f?"-":"+")+S:S+(f?"-":"+"):f&&(S="-"+S),S}function g(e,t){Object.keys(t).forEach((function(i){e[i]=t[i]}))}var y={regexp:/%/,format:function(e,t,i,n){var a=~t.indexOf(" %")?" ":"",r=void 0;return n.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?%/,""),r=n._numberToFormat(e,t,i),~r.indexOf(")")?(r=r.split(""),r.splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%",r}},b={},x={};function w(e,t,i){t=t||b.defaultFormat,i=i||Math.round;var n=void 0,a=void 0;if(0===e&&null!==b.zeroFormat)n=b.zeroFormat;else if(null===e&&null!==b.nullFormat)n=b.nullFormat;else{for(var r in x)if(x[r]&&t.match(x[r].regexp)){a=x[r].format;break}a=a||v.bind(null,b),n=a(e,t,i,M)}return n}function M(e,t,i){var n=void 0;return n=0===e||"undefined"===typeof e?0:null===e||f(e)?null:"string"===typeof e?b.zeroFormat&&e===b.zeroFormat?0:b.nullFormat&&e===b.nullFormat||!e.replace(/[^0-9]+/g,"").length?null:+e:+e||null,w(n,t,i)}g(b,c),M.options=b,M._numberToFormat=v.bind(null,b),M.register=function(e,t){x[e]=t},M.unregister=function(e){x[e]=null},M.setOptions=function(e){g(b,e)},M.reset=function(){g(b,c)},M.register("percentage",y);var S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},T=function(e){return Array.isArray(e)?e:Array.from(e)};function L(e,t){var i=null;return function(){var n=this,a=arguments;clearTimeout(i),i=setTimeout((function(){e.apply(n,a)}),t)}}function C(e,t,i){if(t){var n=e,a=t.split(".");a.forEach((function(e,t){t===a.length-1?n[e]=i:(n[e]||(n[e]={}),n=n[e])}))}}function E(e,t,i){if(!t)return e;var n=t.split("."),a=e;return n.some((function(e,t){if(void 0===a[e])return a=i,!0;a=a[e]})),a}var k="function"===typeof Symbol&&"symbol"===S(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":S(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":S(e)};function V(e){return Object.prototype.toString.call(e)}function _(e){return"undefined"===typeof e?"undefined":k(e)}function N(e){return"[object Object]"===V(e)}function z(e){return"[object Array]"===V(e)}function R(e){return"[object Function]"===V(e)}function P(e){return JSON.parse(JSON.stringify(e))}function I(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){if(e===t)return!0;if(null===e||null===t||"object"!==_(e)||"object"!==_(t))return e===t;for(var i in e)if(j(e,i)){var n=e[i],a=t[i],r=_(n);if("undefined"===_(a))return!1;if("object"===r){if(!F(n,a))return!1}else if(n!==a)return!1}for(var o in t)if(j(t,o)&&"undefined"===_(e)[o])return!1;return!0}var H=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(isNaN(e))return n;if(!t)return e;if(R(t))return t(e,M);i=isNaN(i)?0:++i;var a=".["+new Array(i).join(0)+"]",r=t;switch(t){case"KMB":r=i?"0,0"+a+"a":"0,0a";break;case"normal":r=i?"0,0"+a:"0,0";break;case"percent":r=i?"0,0"+a+"%":"0,0.[00]%";break}return M(e,r)},D=function(e){var t={};return Object.keys(e).forEach((function(i){e[i].forEach((function(e){t[e]=i}))})),t},B=function(e){return new Promise((function(t,i){var n=new XMLHttpRequest;n.open("GET",e),n.send(null),n.onload=function(){t(JSON.parse(n.responseText))},n.onerror=function(){i(JSON.parse(n.responseText))}}))},Z={},W=function(e){var t=e.position,i=e.positionJsonLink,n=e.beforeRegisterMapOnce,a=e.mapURLProfix,r=i||""+a+t+".json";return Z[r]||(Z[r]=B(r).then((function(e){return n&&(e=n(e)),e}))),Z[r]},G=null,$=null,Y=function(e,t){return G||(G=new Promise((function(i,n){var a="bmap"+Date.now();window[a]=i;var r=document.createElement("script");r.src=["https://api.map.baidu.com/api?v="+(t||"2.0"),"ak="+e,"callback="+a].join("&"),document.body.appendChild(r)}))),G},q=function(e,t){return $||($=new Promise((function(i,n){var a="amap"+Date.now();window[a]=i;var r=document.createElement("script");r.src=["https://webapi.amap.com/maps?v="+(t||"1.4.3"),"key="+e,"callback="+a].join("&"),document.body.appendChild(r)}))),$};function J(e,t,i){void 0!==e[t]?e[t].push(i):e[t]=[i]}var U=.5;function X(e){var t=e.innerRows,i=e.dimAxisName,n=e.dimension,a=e.axisVisible,r=e.dimAxisType,o=e.dims;return n.map((function(e){return{type:"category",name:i,nameLocation:"middle",nameGap:22,data:"value"===r?K(o):t.map((function(t){return t[e]})),axisLabel:{formatter:function(e){return String(e)}},show:a}}))}function K(e){for(var t=Math.max.apply(null,e),i=Math.min.apply(null,e),n=[],a=i;a<=t;a++)n.push(a);return n}function Q(e){for(var t=e.meaAxisName,i=e.meaAxisType,n=e.axisVisible,a=e.digit,r=e.scale,o=e.min,s=e.max,l={type:"value",axisTick:{show:!1},show:n},c=[],u=function(e){i[e]?c[e]=A({},l,{axisLabel:{formatter:function(t){return H(t,i[e],a)}}}):c[e]=A({},l),c[e].name=t[e]||"",c[e].scale=r[e]||!1,c[e].min=o[e]||null,c[e].max=s[e]||null},d=0;d<2;d++)u(d);return c}function ee(e){var t=e.axisSite,i=e.isHistogram,n=e.meaAxisType,a=e.digit,o=e.labelMap,s=i?t.right||[]:t.top||[];return o&&(s=s.map((function(e){return void 0===o[e]?e:o[e]}))),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach((function(e){var i=e.seriesName,o=~s.indexOf(i)?n[1]:n[0];t.push(r(e.color)),t.push(i+": "),t.push(H(e.value,o,a)),t.push("<br>")})),t.join("")}}}function te(e,t){for(var i=Math.max.apply(null,t),n=Math.min.apply(null,t),a=[],r=n;r<=i;r++){var o=t.indexOf(r);~o?a.push(e[o]):a.push(null)}return a}function ie(e){var t=e.innerRows,i=e.metrics,n=e.stack,a=e.axisSite,r=e.isHistogram,o=e.labelMap,s=e.itemStyle,l=e.label,c=e.showLine,u=void 0===c?[]:c,d=e.dimAxisType,m=e.barGap,p=e.opacity,f=e.dims,h=[],v={},g=r?a.right||[]:a.top||[],y=r?"yAxisIndex":"xAxisIndex",b=n&&D(n);return i.forEach((function(e){v[e]=[]})),t.forEach((function(e){i.forEach((function(t){v[t].push(e[t])}))})),h=Object.keys(v).map((function(e,t){var i="value"===d?te(v[e],f):v[e],a=O({name:null!=o[e]?o[e]:e,type:~u.indexOf(e)?"line":"bar",data:i},y,~g.indexOf(e)?"1":"0");n&&b[e]&&(a.stack=b[e]),l&&(a.label=l),s&&(a.itemStyle=s);var r=p||E(a,"itemStyle.normal.opacity");return"value"===d&&(a.barGap=m,a.barCategoryGap="1%",null==r&&(r=U)),null!=r&&C(a,"itemStyle.normal.opacity",r),a})),!!h.length&&h}function ne(e){var t=e.metrics,i=e.labelMap,n=e.legendName;if(!n&&!i)return{data:t};var a=i?t.map((function(e){return null==i[e]?e:i[e]})):t;return{data:a,formatter:function(e){return null!=n[e]?n[e]:e}}}function ae(e,t){return e.map((function(e){return e[t[0]]}))}var re=function(e,t,i,n){var a=P(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,m=void 0===d||d,p=i.digit,f=void 0===p?2:p,h=i.dataOrder,v=void 0!==h&&h,g=i.scale,y=void 0===g?[!1,!1]:g,b=i.min,x=void 0===b?[null,null]:b,w=i.max,M=void 0===w?[null,null]:w,S=i.legendName,O=void 0===S?{}:S,A=i.labelMap,T=void 0===A?{}:A,L=i.label,C=i.itemStyle,E=i.showLine,k=i.barGap,V=void 0===k?"-100%":k,_=i.opacity,N=n.tooltipVisible,z=n.legendVisible,R=e.slice();o.top&&o.bottom?R=o.top.concat(o.bottom):o.bottom&&!o.right?R=o.bottom:i.metrics?R=i.metrics:R.splice(e.indexOf(l[0]),1);var I=i.xAxisType||["normal","normal"],j=i.yAxisType||"category",F=i.xAxisName||[],H=i.yAxisName||"",D=!1;if(v){var B=v.label,Z=v.order;B&&Z?a.sort((function(e,t){return"desc"===Z?e[B]-t[B]:t[B]-e[B]})):console.warn("Need to provide name and order parameters")}var W=ae(a,l),G=z&&ne({metrics:R,labelMap:T,legendName:O}),$=X({innerRows:a,dimAxisName:H,dimension:l,axisVisible:m,dimAxisType:j,dims:W}),Y=Q({meaAxisName:F,meaAxisType:I,axisVisible:m,digit:f,scale:y,min:x,max:M}),q=ie({innerRows:a,metrics:R,stack:u,axisSite:o,isHistogram:D,labelMap:T,itemStyle:C,label:L,showLine:E,dimAxisType:j,dimension:l,barGap:V,opacity:_,dims:W}),J={axisSite:o,isHistogram:D,meaAxisType:I,digit:f,labelMap:T},U=N&&ee(J),K={legend:G,yAxis:$,series:q,xAxis:Y,tooltip:U};return K},oe=function(e,t,i,n){var a=P(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,m=void 0===d||d,p=i.digit,f=void 0===p?2:p,h=i.dataOrder,v=void 0!==h&&h,g=i.scale,y=void 0===g?[!1,!1]:g,b=i.min,x=void 0===b?[null,null]:b,w=i.max,M=void 0===w?[null,null]:w,S=i.labelMap,O=void 0===S?{}:S,A=i.legendName,T=void 0===A?{}:A,L=i.label,C=i.itemStyle,E=i.showLine,k=i.barGap,V=void 0===k?"-100%":k,_=i.opacity;if(v){var N=v.label,z=v.order;N&&z?a.sort((function(e,t){return"desc"===z?e[N]-t[N]:t[N]-e[N]})):console.warn("Need to provide name and order parameters")}var R=n.tooltipVisible,I=n.legendVisible,j=e.slice();o.left&&o.right?j=o.left.concat(o.right):o.left&&!o.right?j=o.left:i.metrics?j=i.metrics:j.splice(e.indexOf(l[0]),1);var F=i.yAxisType||["normal","normal"],H=i.xAxisType||"category",D=i.yAxisName||[],B=i.xAxisName||"",Z=!0,W=ae(a,l),G=I&&ne({metrics:j,labelMap:O,legendName:T}),$=X({innerRows:a,dimAxisName:B,dimension:l,axisVisible:m,dimAxisType:H,dims:W}),Y=Q({meaAxisName:D,meaAxisType:F,axisVisible:m,digit:f,scale:y,min:x,max:M}),q=ie({innerRows:a,metrics:j,stack:u,axisSite:o,isHistogram:Z,labelMap:O,itemStyle:C,label:L,showLine:E,dimAxisType:H,dimension:l,barGap:V,opacity:_,dims:W}),J={axisSite:o,isHistogram:Z,meaAxisType:F,digit:f,labelMap:O},U=R&&ee(J),K={legend:G,yAxis:Y,series:q,xAxis:$,tooltip:U};return K},se={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-charts-component-loading"},[i("div",{staticClass:"loader"},[i("div",{staticClass:"loading-spinner"},[i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])},staticRenderFns:[]},le={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-charts-data-empty"},[e._v(" 暂无数据 ")])},staticRenderFns:[]};function ce(e,t){Object.keys(t).forEach((function(i){var n=t[i];~i.indexOf(".")?C(e,i,n):"function"===typeof n?e[i]=n(e[i]):z(e[i])&&N(e[i][0])?e[i].forEach((function(t,a){e[i][a]=A({},t,n)})):N(e[i])?e[i]=A({},e[i],n):e[i]=n}))}function ue(e,t){Object.keys(t).forEach((function(i){t[i]&&(e[i]=t[i])}))}function de(e,t){Object.keys(t).forEach((function(i){e[i]=t[i]}))}var me={render:function(e){return e("div",{class:[I(this.$options.name||this.$options._componentTag)],style:this.canvasStyle},[e("div",{style:this.canvasStyle,class:{"v-charts-mask-status":this.dataEmpty||this.loading},ref:"canvas"}),e(le,{style:{display:this.dataEmpty?"":"none"}}),e(se,{style:{display:this.loading?"":"none"}}),this.$slots.default])},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:[Object,Array],legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:[Object,Array],brush:[Object,Array],geo:[Object,Array],timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:[Object,Array],animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!1},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function},resizeable:{type:Boolean,default:!0},resizeDelay:{type:Number,default:200},changeDelay:{type:Number,default:0},setOptionOpts:{type:[Boolean,Object],default:!0},cancelResizeCheck:Boolean,notSetUnchange:Array,log:Boolean},watch:{data:{deep:!0,handler:function(e){e&&this.changeHandler()}},settings:{deep:!0,handler:function(e){e.type&&this.chartLib&&(this.chartHandler=this.chartLib[e.type]),this.changeHandler()}},width:"nextTickResize",height:"nextTickResize",events:{deep:!0,handler:"createEventProxy"},theme:{deep:!0,handler:"themeChange"},themeName:"themeChange",resizeable:"resizeableHandler"},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||i}},methods:{dataHandler:function(){if(this.chartHandler){var e=this.data,t=e,i=t.columns,n=void 0===i?[]:i,a=t.rows,r=void 0===a?[]:a,o={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter,_once:this._once};this.beforeConfig&&(e=this.beforeConfig(e));var s=this.chartHandler(n,r,this.settings,o);s&&("function"===typeof s.then?s.then(this.optionsHandler):this.optionsHandler(s))}},nextTickResize:function(){this.$nextTick(this.resize)},resize:function(){(this.cancelResizeCheck||this.$el&&this.$el.clientWidth&&this.$el.clientHeight)&&this.echartsResize()},echartsResize:function(){this.echarts&&this.echarts.resize()},optionsHandler:function(t){var i=this;if(this.legendPosition&&t.legend&&(t.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(t.legend.top="middle",t.legend.orient="vertical")),t.color=this.chartColor,s.forEach((function(e){i[e]&&(t[e]=i[e])})),this.animation&&de(t,this.animation),this.markArea||this.markLine||this.markPoint){var n={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},a=t.series;z(a)?a.forEach((function(e){ue(e,n)})):N(a)&&ue(a,n)}this.extend&&ce(t,this.extend),this.afterConfig&&(t=this.afterConfig(t));var r=this.setOptionOpts;!this.settings.bmap&&!this.settings.amap||N(r)||(r=!1),this.notSetUnchange&&this.notSetUnchange.length&&(this.notSetUnchange.forEach((function(e){var n=t[e];n&&(F(n,i._store[e])?t[e]=void 0:i._store[e]=P(n))})),N(r)?r.notMerge=!1:r=!1),this._isDestroyed||(this.log&&console.log(t),this.echarts.setOption(t,r),this.$emit("ready",this.echarts,t,e),this._once["ready-once"]||(this._once["ready-once"]=!0,this.$emit("ready-once",this.echarts,t,e)),this.judgeWidth&&this.judgeWidthHandler(t),this.afterSetOption&&this.afterSetOption(this.echarts,t,e),this.afterSetOptionOnce&&!this._once["afterSetOptionOnce"]&&(this._once["afterSetOptionOnce"]=!0,this.afterSetOptionOnce(this.echarts,t,e)))},judgeWidthHandler:function(e){var t=this,i=this.widthChangeDelay,n=this.resize;this.$el.clientWidth||this.$el.clientHeight?n():this.$nextTick((function(e){t.$el.clientWidth||t.$el.clientHeight?n():setTimeout((function(e){n(),t.$el.clientWidth&&t.$el.clientHeight||console.warn(" Can't get dom width or height ")}),i)}))},resizeableHandler:function(e){e&&!this._once.onresize&&this.addResizeListener(),!e&&this._once.onresize&&this.removeResizeListener()},init:function(){if(!this.echarts){var i=this.themeName||this.theme||t;this.echarts=e.init(this.$refs.canvas,i,this.initOptions),this.data&&this.changeHandler(),this.createEventProxy(),this.resizeable&&this.addResizeListener()}},addResizeListener:function(){window.addEventListener("resize",this.resizeHandler),this._once.onresize=!0},removeResizeListener:function(){window.removeEventListener("resize",this.resizeHandler),this._once.onresize=!1},addWatchToProps:function(){var e=this,t=this._watchers.map((function(e){return e.expression}));Object.keys(this.$props).forEach((function(i){if(!~t.indexOf(i)&&!~o.indexOf(i)){var n={};~["[object Object]","[object Array]"].indexOf(V(e.$props[i]))&&(n.deep=!0),e.$watch(i,(function(){e.changeHandler()}),n)}}))},createEventProxy:function(){var e=this,t=this,i=Object.keys(this.events||{});i.length&&i.forEach((function(i){-1===e.registeredEvents.indexOf(i)&&(e.registeredEvents.push(i),e.echarts.on(i,function(e){return function(){if(e in t.events){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];t.events[e].apply(null,n)}}}(i)))}))},themeChange:function(e){this.clean(),this.echarts=null,this.init()},clean:function(){this.resizeable&&this.removeResizeListener(),this.echarts.dispose()}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this._store={},this.resizeHandler=L(this.resize,this.resizeDelay),this.changeHandler=L(this.dataHandler,this.changeDelay),this.addWatchToProps()},mounted:function(){this.init()},beforeDestroy:function(){this.clean()},_numerify:M},pe=A({},me,{name:"VeBar",data:function(){return this.chartHandler=re,{}}}),fe=A({},me,{name:"VeHistogram",data:function(){return this.chartHandler=oe,{}}});function he(e){var t=e.dimension,i=e.rows,n=e.xAxisName,a=e.axisVisible,r=e.xAxisType;return t.map((function(e,t){return{type:r,nameLocation:"middle",nameGap:22,name:n[t]||"",axisTick:{show:!0,lineStyle:{color:"#eee"}},data:i.map((function(t){return t[e]})),show:a}}))}function ve(e){var t=e.rows,i=e.axisSite,n=e.metrics,a=e.area,r=e.stack,o=e.nullAddZero,s=e.labelMap,l=e.label,c=e.itemStyle,u=e.lineStyle,d=e.areaStyle,m=e.dimension,p=[],f={},h=r&&D(r);return n.forEach((function(e){f[e]=[]})),t.forEach((function(e){n.forEach((function(t){var i=null;null!=e[t]?i=e[t]:o&&(i=0),f[t].push([e[m[0]],i])}))})),n.forEach((function(e){var t={name:null!=s[e]?s[e]:e,type:"line",data:f[e]};a&&(t.areaStyle={normal:{}}),i.right&&(t.yAxisIndex=~i.right.indexOf(e)?1:0),r&&h[e]&&(t.stack=h[e]),l&&(t.label=l),c&&(t.itemStyle=c),u&&(t.lineStyle=u),d&&(t.areaStyle=d),p.push(t)})),p}function ge(e){for(var t=e.yAxisName,i=e.yAxisType,n=e.axisVisible,a=e.scale,r=e.min,o=e.max,s=e.digit,l={type:"value",axisTick:{show:!1},show:n},c=[],u=function(e){i[e]?c[e]=A({},l,{axisLabel:{formatter:function(t){return H(t,i[e],s)}}}):c[e]=A({},l),c[e].name=t[e]||"",c[e].scale=a[e]||!1,c[e].min=r[e]||null,c[e].max=o[e]||null},d=0;d<2;d++)u(d);return c}function ye(e){var t=e.axisSite,i=e.yAxisType,n=e.digit,a=e.labelMap,r=e.tooltipFormatter,o=t.right||[],s=a?o.map((function(e){return void 0===a[e]?e:a[e]})):o;return{trigger:"axis",formatter:function(e){if(r)return r.apply(null,arguments);var t=[],a=e[0],o=a.name,l=a.axisValueLabel,c=o||l;return t.push(c+"<br>"),e.forEach((function(e){var a=e.seriesName,r=e.data,o=e.marker,l=null,c=~s.indexOf(a)?i[1]:i[0],u=z(r)?r[1]:r;l=H(u,c,n),t.push(o),t.push(a+": "+l),t.push("<br>")})),t.join("")}}}function be(e){var t=e.metrics,i=e.legendName,n=e.labelMap;if(!i&&!n)return{data:t};var a=n?t.map((function(e){return null==n[e]?e:n[e]})):t;return{data:a,formatter:function(e){return null!=i[e]?i[e]:e}}}var xe=function(e,t,i,n){t=z(t)?t:[],e=z(e)?e:[];var a=i.axisSite,r=void 0===a?{}:a,o=i.yAxisType,s=void 0===o?["normal","normal"]:o,l=i.xAxisType,c=void 0===l?"category":l,u=i.yAxisName,d=void 0===u?[]:u,m=i.dimension,p=void 0===m?[e[0]]:m,f=i.xAxisName,h=void 0===f?[]:f,v=i.axisVisible,g=void 0===v||v,y=i.area,b=i.stack,x=i.scale,w=void 0===x?[!1,!1]:x,M=i.min,S=void 0===M?[null,null]:M,O=i.max,A=void 0===O?[null,null]:O,T=i.nullAddZero,L=void 0!==T&&T,C=i.digit,E=void 0===C?2:C,k=i.legendName,V=void 0===k?{}:k,_=i.labelMap,N=void 0===_?{}:_,R=i.label,P=i.itemStyle,I=i.lineStyle,j=i.areaStyle,F=n.tooltipVisible,H=n.legendVisible,D=n.tooltipFormatter,B=e.slice();r.left&&r.right?B=r.left.concat(r.right):r.left&&!r.right?B=r.left:i.metrics?B=i.metrics:B.splice(e.indexOf(p[0]),1);var Z=H&&be({metrics:B,legendName:V,labelMap:N}),W=F&&ye({axisSite:r,yAxisType:s,digit:E,labelMap:N,xAxisType:c,tooltipFormatter:D}),G=he({dimension:p,rows:t,xAxisName:h,axisVisible:g,xAxisType:c}),$=ge({yAxisName:d,yAxisType:s,axisVisible:g,scale:w,min:S,max:A,digit:E}),Y=ve({rows:t,axisSite:r,metrics:B,area:y,stack:b,nullAddZero:L,labelMap:N,label:R,itemStyle:P,lineStyle:I,areaStyle:j,xAxisType:c,dimension:p}),q={legend:Z,xAxis:G,series:Y,yAxis:$,tooltip:W};return q},we=A({},me,{name:"VeLine",data:function(){return this.chartHandler=xe,{}}}),Me=100,Se=[80,100],Oe=[20,100],Ae=200;function Te(e){var t=e.innerRows,i=e.dataType,n=e.percentShow,a=e.dimension,r=e.metrics,o=e.radius,s=e.offsetY,l=e.selectedMode,c=e.hoverAnimation,u=e.digit,d=e.roseType,m=e.label,p=e.level,f=e.limitShowNum,h=e.isRing,v=e.labelLine,g=e.itemStyle,y=[],b={},x=[];p?(p.forEach((function(e,t){e.forEach((function(e){J(b,e,t)}))})),t.forEach((function(e){var t=b[e[a]];t&&t.length&&t.forEach((function(t){J(x,t,e)}))}))):x.push(t);var w={type:"pie",selectedMode:l,hoverAnimation:c,roseType:d,center:["50%",s]},M=x.length;if(x.forEach((function(e,t){var s=A({data:[]},w),l=o/M;if(t){var c=l+o/(2*M)*(2*t-1),d=c+o/(2*M);s.radius=[c,d]}else s.radius=h?o:l;M>1&&0===t&&(s.label={normal:{position:"inner"}}),m&&(s.label=m),v&&(s.labelLine=v),g&&(s.itemStyle=g),n&&(s.label={normal:{show:!0,position:M>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(H(e.value,i,u)),t.push("("+e.percent+"%)"),t.join(" ")}}}),s.data=e.map((function(e){return{name:e[a],value:e[r]}})),y.push(s)})),f&&f<y[0].data.length){var S=y[0].data,O=S.slice(f,S.length),T=0;O.forEach((function(e){T+=e.value})),y[0].data=S.slice(0,f),y[0].data.push({name:"其他",value:T})}return y}function Le(e){var t=e.innerRows,i=e.dimension,n=e.legendLimit,a=e.legendName,r=e.level,o=e.limitShowNum,s=[],l=[];if(r)r.forEach((function(e){e.forEach((function(e){l.push(e)}))})),s=l;else if(o&&o<t.length){for(var c=0;c<o;c++)s.push(t[c][i]);s.push("其他")}else s=t.map((function(e){return e[i]}));return!!s.length&&{data:s,show:s.length<n,formatter:function(e){return null!=a[e]?a[e]:e}}}function Ce(e){var t=e.dataType,i=e.innerRows,n=e.limitShowNum,a=e.digit,o=e.metrics,s=e.dimension,l=0,c=i.map((function(e){return l+=e[o],{name:e[s],value:e[o]}})).slice(n,i.length);return{formatter:function(e){var i=[];return i.push(r(e.color)),n&&"其他"===e.name?(i.push("其他:"),c.forEach((function(e){var n=e.name,r=e.value,o=H(r/l,"percent");i.push("<br>"+n+":"),i.push(H(r,t,a)),i.push("("+o+")")}))):(i.push(e.name+":"),i.push(H(e.value,t,a)),i.push("("+e.percent+"%)")),i.join(" ")}}}var Ee=function(e,t,i,n,a){var r=P(t),o=i.dataType,s=void 0===o?"normal":o,l=i.percentShow,c=i.dimension,u=void 0===c?e[0]:c,d=i.metrics,m=void 0===d?e[1]:d,p=i.roseType,f=void 0!==p&&p,h=i.radius,v=void 0===h?a?f?Oe:Se:Me:h,g=i.offsetY,y=void 0===g?Ae:g,b=i.legendLimit,x=void 0===b?30:b,w=i.selectedMode,M=void 0!==w&&w,S=i.hoverAnimation,O=void 0===S||S,A=i.digit,T=void 0===A?2:A,L=i.legendName,C=void 0===L?{}:L,E=i.label,k=void 0!==E&&E,V=i.level,_=void 0!==V&&V,N=i.limitShowNum,z=void 0===N?0:N,R=i.labelLine,I=i.itemStyle,j=n.tooltipVisible,F=n.legendVisible;z&&r.sort((function(e,t){return t[m]-e[m]}));var H={innerRows:r,dataType:s,percentShow:l,dimension:u,metrics:m,radius:v,offsetY:y,selectedMode:M,hoverAnimation:O,digit:T,roseType:f,label:k,level:_,legendName:C,limitShowNum:z,isRing:a,labelLine:R,itemStyle:I},D=Te(H),B={innerRows:r,dimension:u,legendLimit:x,legendName:C,level:_,limitShowNum:z},Z=F&&Le(B),W=j&&Ce({dataType:s,innerRows:r,limitShowNum:z,digit:T,metrics:m,dimension:u}),G={series:D,legend:Z,tooltip:W};return G},ke=function(e,t,i,n){return Ee(e,t,i,n,!0)},Ve=A({},me,{name:"VePie",data:function(){return this.chartHandler=Ee,{}}}),_e=A({},me,{name:"VeRing",data:function(){return this.chartHandler=ke,{}}});function Ne(e,t){return{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(i){var n=i[1];return[n.name+"<br/>"+n.seriesName+" :",""+H(n.value,e,t)].join("")}}}function ze(e){var t=e.dimension,i=e.rows,n=e.remainStatus,a=e.totalName,r=e.remainName,o=e.labelMap,s=e.xAxisName,l=e.axisVisible,c=[a].concat(i.map((function(e){return e[t]})));return"have-remain"===n&&(c=c.concat([r])),{type:"category",name:o&&o[s]||s,splitLine:{show:!1},data:c,show:l}}function Re(e){var t=e.dataType,i=e.yAxisName,n=e.axisVisible,a=e.digit,r=e.labelMap;return{type:"value",name:null!=r[i]?r[i]:i,axisTick:{show:!1},axisLabel:{formatter:function(e){return H(e,t,a)}},show:n}}function Pe(e){var t=e.dataType,i=e.rows,n=e.metrics,a=e.totalNum,r=e.remainStatus,o=e.dataSum,s=e.digit,l={type:"bar",stack:"总量"},c=o,u=a,d=void 0,m=void 0,p=i.map((function(e){return e[n]}));"have-remain"===r?(d=[0].concat(i.map((function(e){return u-=e[n],u}))).concat([0]),m=[a].concat(p).concat([a-o])):(d=[0].concat(i.map((function(e){return c-=e[n],c}))),m=[o].concat(p));var f=[];return f.push(A({name:"辅助",itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},data:d},l)),f.push(A({name:"数值",label:{normal:{show:!0,position:"top",formatter:function(e){return H(e.value,t,s)}}},data:m},l)),f}function Ie(e,t){return t?t>e?"have-remain":"none-remain":"not-total"}var je=function(e,t,i,n){var a=i.dataType,r=void 0===a?"normal":a,o=i.dimension,s=void 0===o?e[0]:o,l=i.totalName,c=void 0===l?"总计":l,u=i.totalNum,d=i.remainName,m=void 0===d?"其他":d,p=i.xAxisName,f=void 0===p?s:p,h=i.labelMap,v=void 0===h?{}:h,g=i.axisVisible,y=void 0===g||g,b=i.digit,x=void 0===b?2:b,w=n.tooltipVisible,M=e.slice();M.splice(M.indexOf(s),1);var S=M[0],O=S,A=w&&Ne(r,x),T=parseFloat(t.reduce((function(e,t){return e+Number(t[S])}),0).toFixed(x)),L=Ie(T,u),C={dimension:s,rows:t,remainStatus:L,totalName:c,remainName:m,xAxisName:f,labelMap:v,axisVisible:y},E=ze(C),k=Re({dataType:r,yAxisName:O,axisVisible:y,digit:x,labelMap:v}),V={dataType:r,rows:t,dimension:s,metrics:S,totalNum:u,remainStatus:L,dataSum:T,digit:x},_=Pe(V),N={tooltip:A,xAxis:E,yAxis:k,series:_};return N},Fe=A({},me,{name:"VeWaterfall",data:function(){return this.chartHandler=je,{}}});function He(e,t){return{trigger:"item",formatter:function(i){var n=[];return n.push(r(i.color)),n.push(i.name+": "+H(i.data.realValue,e,t)),n.join("")}}}function De(e){var t=e.data,i=e.legendName;return{data:t,formatter:function(e){return null!=i[e]?i[e]:e}}}function Be(e){var t=e.dimension,i=e.metrics,n=e.rows,a=e.sequence,r=e.ascending,o=e.label,s=e.labelLine,l=e.itemStyle,c=e.filterZero,u=e.useDefaultOrder,d={type:"funnel"},m=n.sort((function(e,i){return a.indexOf(e[t])-a.indexOf(i[t])}));c&&(m=m.filter((function(e){return e[i]})));var p=!1;m.some((function(e,t){if(t&&e[i]>m[t-1][i])return p=!0,!0}));var f=100/m.length;return d.data=p&&!u?m.slice().reverse().map((function(e,n){return{name:e[t],value:(n+1)*f,realValue:e[i]}})):m.map((function(e){return{name:e[t],value:e[i],realValue:e[i]}})),r&&(d.sort="ascending"),o&&(d.label=o),s&&(d.labelLine=s),l&&(d.itemStyle=l),d}var Ze=function(e,t,i,n){var a=e.slice(),r=t.slice(),o=i.dataType,s=void 0===o?"normal":o,l=i.dimension,c=void 0===l?a[0]:l,u=i.sequence,d=void 0===u?r.map((function(e){return e[c]})):u,m=i.digit,p=void 0===m?2:m,f=i.ascending,h=i.label,v=i.labelLine,g=i.legendName,y=void 0===g?{}:g,b=i.itemStyle,x=i.filterZero,w=i.useDefaultOrder,M=n.tooltipVisible,S=n.legendVisible,O=void 0;if(i.metrics)O=i.metrics;else{var A=a.slice();A.splice(a.indexOf(c),1),O=A[0]}var T=M&&He(s,p),L=S&&De({data:d,legendName:y}),C=Be({dimension:c,metrics:O,rows:r,sequence:d,ascending:f,label:h,labelLine:v,itemStyle:b,filterZero:x,useDefaultOrder:w}),E={tooltip:T,legend:L,series:C};return E},We=A({},me,{name:"VeFunnel",data:function(){return this.chartHandler=Ze,{}}});function Ge(e,t,i){var n=e.map((function(e){return e[t]}));return{data:n,formatter:function(e){return null!=i[e]?i[e]:e}}}function $e(e,t,i){var n=[],a=[];return t.indicator.map((function(t,i){n[i]=e[t.name],a[i]=t.name})),{formatter:function(e){var t=[];return t.push(r(e.color)),t.push(e.name+"<br />"),e.data.value.forEach((function(e,r){t.push(a[r]+": "),t.push(H(e,n[r],i)+"<br />")})),t.join("")}}}function Ye(e,t,i){var n={indicator:[],shape:"circle",splitNumber:5},a={};return e.forEach((function(e){t.forEach((function(t){var n=null!=i[t]?i[t]:t;a[n]?a[n].push(e[t]):a[n]=[e[t]]}))})),n.indicator=Object.keys(a).map((function(e){return{name:e,max:Math.max.apply(null,a[e])}})),n}function qe(e){var t=e.rows,i=e.dimension,n=e.metrics,a=e.radar,r=e.label,o=e.itemStyle,s=e.lineStyle,l=e.labelMap,c=e.areaStyle,u={};a.indicator.forEach((function(e,t){var i=e.name;u[i]=t}));var d=t.map((function(e){var t={value:[],name:e[i]};return Object.keys(e).forEach((function(i){if(~n.indexOf(i)){var a=null!=l[i]?u[l[i]]:u[i];t.value[a]=e[i]}})),t})),m={name:i,type:"radar",data:d};return r&&(m.label=r),o&&(m.itemStyle=o),s&&(m.lineStyle=s),c&&(m.areaStyle=c),[m]}var Je=function(e,t,i,n){var a=i.dataType,r=void 0===a?{}:a,o=i.legendName,s=void 0===o?{}:o,l=i.labelMap,c=void 0===l?{}:l,u=i.dimension,d=void 0===u?e[0]:u,m=i.digit,p=void 0===m?2:m,f=i.label,h=i.itemStyle,v=i.lineStyle,g=i.areaStyle,y=n.tooltipVisible,b=n.legendVisible,x=e.slice();i.metrics?x=i.metrics:x.splice(e.indexOf(d),1);var w=b&&Ge(t,d,s),M=Ye(t,x,c),S=y&&$e(r,M,p),O=qe({rows:t,dimension:d,metrics:x,radar:M,label:f,itemStyle:h,lineStyle:v,labelMap:c,areaStyle:g}),A={legend:w,tooltip:S,radar:M,series:O};return A},Ue=A({},me,{name:"VeRadar",data:function(){return this.chartHandler=Je,{}}}),Xe=A({},me,{name:"VeChart",data:function(){return this.chartLib={bar:re,histogram:oe,line:xe,pie:Ee,ring:ke,funnel:Ze,radar:Je,waterfall:je},this.chartHandler=this.chartLib[this.settings.type],{}}});function Ke(e,t,i,n,a,o){return{formatter:function(s){var l=[];return s.name?(l.push(s.name+"<br>"),n.forEach((function(n,c){var u=null!=o[n]?o[n]:n;l.push(r(a[c])+" "+u+" : "),i[s.name]?l.push(H(i[s.name][n],e[n],t)):l.push("-"),l.push("<br>")})),l.join(" ")):""}}}function Qe(e){var t=e.position,i=e.selectData,n=e.dimension,a=e.metrics,r=e.rows,o=e.label,s=e.itemStyle,l=e.selectedMode,c=e.roam,u=e.center,d=e.aspectScale,m=e.boundingCoords,p=e.zoom,f=e.labelMap,h=e.scaleLimit,v=e.mapGrid,g=[],y={type:"map",mapType:t};return a.forEach((function(e){var t=A({name:null!=f[e]?f[e]:e,data:[],selectedMode:l,roam:c,center:u,aspectScale:d,boundingCoords:m,zoom:p,scaleLimit:h},y);v&&Object.keys(v).forEach((function(e){t[e]=v[e]})),et(s,t,"itemStyle"),et(o,t,"label"),r.forEach((function(a){t.data.push({name:a[n],value:a[e],selected:i})})),g.push(t)})),g}function et(e,t,i){"object"===("undefined"===typeof e?"undefined":S(e))?t[i]=e:e&&(t[i]={normal:{show:!0},emphasis:{show:!0}})}function tt(e){var t=e.metrics,i=e.legendName,n=e.labelMap;if(!i&&!n)return{data:t};var a=n?t.map((function(e){return null==n[e]?e:n[e]})):t;return{data:a,formatter:function(e){return null!=i[e]?i[e]:e}}}function it(t,i){var n=t._once,a=t.registerSign,r=t.beforeRegisterMap,o=t.beforeRegisterMapOnce,s=t.registerSignOnce,l=t.position,c=t.specialAreas;n[a]||(r&&(i=r(i)),o&&!n[s]&&(n[s]=!0,i=o(i)),n[a]=!0,e.registerMap(l,i,c))}var nt=function(e,t,i,n){var a=i.position,r=void 0===a?"china":a,o=i.selectData,s=void 0!==o&&o,l=i.selectedMode,c=i.label,u=void 0===c||c,d=i.dataType,m=void 0===d?{}:d,p=i.digit,f=void 0===p?2:p,h=i.dimension,v=void 0===h?e[0]:h,g=i.roam,y=i.center,b=i.aspectScale,x=i.boundingCoords,w=i.zoom,M=i.scaleLimit,S=i.legendName,O=void 0===S?{}:S,A=i.labelMap,T=void 0===A?{}:A,L=i.mapGrid,C=i.itemStyle,E=i.positionJsonLink,k=i.beforeRegisterMap,V=i.beforeRegisterMapOnce,_=i.mapURLProfix,N=void 0===_?"https://unpkg.com/echarts@3.6.2/map/json/":_,z=i.specialAreas,R=void 0===z?{}:z,P=i.mapOrigin,I=e.slice();i.metrics?I=i.metrics:I.splice(e.indexOf(v),1);var j=n.tooltipVisible,F=n.legendVisible,H=n.color,D=n._once,B={};t.forEach((function(e){B[e[v]]=e}));var Z=j&&Ke(m,f,B,I,H,T),G=F&&tt({metrics:I,legendName:O,labelMap:T}),$={position:r,selectData:s,label:u,itemStyle:C,dimension:v,metrics:I,rows:t,selectedMode:l,roam:g,center:y,aspectScale:b,boundingCoords:x,zoom:w,labelMap:T,scaleLimit:M,mapGrid:L},Y=Qe($),q={_once:D,beforeRegisterMap:k,beforeRegisterMapOnce:V,registerSign:"MAP_REGISTER_"+r,registerSignOnce:"ONCE_MAP_REGISTER_"+r,position:r,specialAreas:R};return P?(it(q,P),{series:Y,tooltip:Z,legend:G}):W({position:r,positionJsonLink:E,beforeRegisterMapOnce:V,mapURLProfix:N}).then((function(e){return it(q,e),{series:Y,tooltip:Z,legend:G}}))},at=A({},me,{name:"VeMap",data:function(){return this.chartHandler=nt,{}}}),rt=function(e,t,i,n){var a=i.key,r=i.v,o=i.bmap,s=i.useOuterMap,l=n._once,c="bmap_register";return a||s||console.warn("settings.key must be a string."),l[c]?{}:(l[c]=!0,s?{bmap:o}:Y(a,r).then((function(e){return{bmap:o}})))},ot=A({},me,{name:"VeBmap",data:function(){return this.chartHandler=rt,{}}}),st=function(e,t,i,n){var a=i.key,r=i.v,o=i.amap,s=i.useOuterMap,l=n._once,c="amap_register";return a||s||console.warn("settings.key must be a string."),l[c]?{}:(l[c]=!0,s?{amap:o}:q(a,r).then((function(e){return{amap:o}})))},lt=A({},me,{name:"VeAmap",data:function(){return this.chartHandler=st,{}}});function ct(e){var t=e.itemDataType,i=e.linksDataType,n=e.digit;return{trigger:"item",formatter:function(e){var a=[],o=e.name,s=e.data,l=e.value,c=e.color;return a.push(r(c)),a.push(o+" : "),s&&s.source?a.push(H(l,i,n)+"<br />"):a.push(H(l,t,n)+"<br />"),a.join("")}}}function ut(e){var t=e.rows,i=e.dimension,n=e.metrics,a=e.links,r=e.valueFull,o=e.useDataValue,s=e.label,l=e.itemStyle,c=e.lineStyle,u={},d=t.map((function(e){return u[e[i]]=e[n],{name:e[i],value:e[n]}})),m=null;m=o?a.map((function(e){return A({},e,{value:u[e.target]})})):r?a:a.map((function(e){return null==e.value?A({},e,{value:u[e.target]}):e}));var p={type:"sankey",data:d,links:m};return s&&(p.label=s),l&&(p.itemStyle=l),c&&(p.lineStyle=c),[p]}var dt=function(e,t,i,n){var a=i.links,r=i.dimension,o=void 0===r?e[0]:r,s=i.metrics,l=void 0===s?e[1]:s,c=i.dataType,u=void 0===c?["normal","normal"]:c,d=i.digit,m=void 0===d?2:d,p=i.valueFull,f=void 0!==p&&p,h=i.useDataValue,v=void 0!==h&&h,g=i.label,y=i.itemStyle,b=i.lineStyle;if(a){var x=u[0],w=u[1],M=ct({itemDataType:x,linksDataType:w,digit:m}),S=ut({rows:t,dimension:o,metrics:l,links:a,valueFull:f,useDataValue:v,label:g,itemStyle:y,lineStyle:b});return{tooltip:M,series:S}}console.warn("links is needed in settings!")},mt=A({},me,{name:"VeSankey",data:function(){return this.chartHandler=dt,{}}});function pt(e,t){var i=[];return e.forEach((function(e){~i.indexOf(e[t])||i.push(e[t])})),i}function ft(e){var t=e.rows,i=e.innerXAxisList,n=e.innerYAxisList,a=e.xDim,r=e.yDim,o=e.metrics,s=e.type,l=e.extraMetrics,c=null;return c="cartesian"===s?t.map((function(e){var t=i.indexOf(e[a]),s=n.indexOf(e[r]),c=o?e[o]:1,u=l.map((function(t){return e[t]||"-"}));return{value:[t,s,c].concat(u)}})):t.map((function(e){var t=o?e[o]:1;return{value:[e[a],e[r],t]}})),c}function ht(e,t){return{type:"category",data:e,name:t,nameLocation:"end",splitArea:{show:!0}}}function vt(e){var t=e.innerMin,i=e.innerMax,r=e.type,o=e.heatColor,s=e.series,l={min:t,max:i,calculable:!0},c=null;return"map"===r?(c={orient:"vertical",left:0,bottom:0,inRange:{color:o||n}},s[0].data.length||(c.show=!1)):c="bmap"===r||"amap"===r?{show:!1,orient:"vertical",left:0,bottom:0,inRange:{color:o||a}}:{orient:"horizontal",left:"center",bottom:10,dimension:2,inRange:o&&{color:o}},A(l,c)}function gt(e){var t=e.chartData;return[{type:"heatmap",data:t}]}function yt(e){var t=e.dataType,i=e.innerXAxisList,n=e.innerYAxisList,a=e.digit,o=e.extraMetrics,s=e.metrics;return{trigger:"item",formatter:function(e){var l=e.color,c=T(e.data.value),u=c[0],d=c[1],m=c[2],p=c.slice(3),f=[];return f.push(i[u]+" ~ "+n[d]+"<br>"),o.forEach((function(e,t){f.push(e+": "+p[t]+"<br>")})),f.push(r(l)+" "+s+": "+H(m,t,a)+"<br>"),f.join("")}}}var bt=function(t,i,n,a){var r=n.type,o=void 0===r?"cartesian":r,s=n.xAxisList,l=n.yAxisList,c=n.dimension,u=void 0===c?[t[0],t[1]]:c,d=n.metrics,m=void 0===d?t[2]:d,p=n.dataType,f=void 0===p?"normal":p,h=n.min,v=n.max,g=n.digit,y=n.bmap,b=n.amap,x=n.geo,w=n.key,M=n.v,S=void 0===M?"2.0":M,O=n.position,T=n.positionJsonLink,L=n.beforeRegisterMap,C=n.pointSize,E=void 0===C?10:C,k=n.blurSize,V=void 0===k?5:k,_=n.heatColor,N=n.yAxisName,z=n.xAxisName,R=n.beforeRegisterMapOnce,P=n.mapURLProfix,I=void 0===P?"https://unpkg.com/echarts@3.6.2/map/json/":P,j=n.specialAreas,F=void 0===j?{}:j,H=a.tooltipVisible,D=s,B=l,Z=[],G=[],$=u.concat([m]);t.forEach((function(e){~$.indexOf(e)||G.push(e)})),"cartesian"===o?(D&&D.length||(D=pt(i,u[0])),B&&B.length||(B=pt(i,u[1])),Z=ft({rows:i,innerXAxisList:D,innerYAxisList:B,xDim:u[0],yDim:u[1],metrics:m,type:o,extraMetrics:G})):Z=ft({rows:i,xDim:u[0],yDim:u[1],metrics:m,type:o,extraMetrics:G});var J=m?i.map((function(e){return e[m]})):[0,5];J.length||(J=[0]);var U=h||Math.min.apply(null,J),X=v||Math.max.apply(null,J),K=ht(D,z),Q=ht(B,N),ee=gt({chartData:Z}),te=vt({innerMin:U,innerMax:X,type:o,heatColor:_,series:ee}),ie=H&&yt({dataType:f,innerXAxisList:D,innerYAxisList:B,digit:g,extraMetrics:G,metrics:m}),ne={visualMap:te,series:ee};return"bmap"===o?(A(ne.series[0],{coordinateSystem:"bmap",pointSize:E,blurSize:V}),Y(w,S).then((function(e){return A({bmap:y},ne)}))):"map"===o?(ne.series[0].coordinateSystem="geo",W({position:O,positionJsonLink:T,beforeRegisterMapOnce:R,mapURLProfix:I}).then((function(t){var i=A({map:O},x);return L&&(t=L(t)),e.registerMap(O,t,F),A({geo:i},ne)}))):"amap"===o?(A(ne.series[0],{coordinateSystem:"amap",pointSize:E,blurSize:V}),q(w,S).then((function(e){return A({amap:b},ne)}))):A({xAxis:K,yAxis:Q,tooltip:ie},ne)},xt=A({},me,{name:"VeHeatmap",data:function(){return this.chartHandler=bt,{}}});function wt(e,t){return{data:e,formatter:function(e){return null!=t[e]?t[e]:e}}}function Mt(e){var t=e.tooltipTrigger;return{trigger:t,formatter:function(t){return z(t)?t.map((function(t){return St(t,e)})).join(""):St(t,e)}}}function St(e,t){var i=t.labelMap,n=t.columns,a=t.dataType,o=t.digit,s=[],l=e.color,c=e.seriesName,u=e.data.value;return s.push(r(l)+" "+c+"<br>"),u.forEach((function(e,t){var r=i[n[t]]||n[t],l=isNaN(e)?e:H(e,a[n[t]],o);s.push(r+": "+l+"<br>")})),s.join("")}function Ot(e){var t=e.xAxisName,i=e.axisVisible,n=e.xAxisType,a=e.rows,r=e.dataLabels,o=e.dimension,s=[];return r.forEach((function(e){var t=a[e];t.forEach((function(e){var t=e[o];t&&!~s.indexOf(t)&&s.push(t)}))})),[{type:n,show:i,name:t,data:s}]}function At(e){var t=e.min,i=e.max,n=e.scale,a=e.yAxisName,r=e.dataType,o=e.metrics,s=e.digit,l=e.axisVisible;return{type:"value",show:l,scale:n,min:t,max:i,axisTick:{show:!1},name:a,axisLabel:{formatter:function(e){return H(e,r[o[0]],s)}}}}function Tt(e){var t=e.rows,i=e.dataLabels,n=e.columns,a=e.metrics,r=e.dimension,o=e.label,s=e.itemStyle,l=e.symbol,c=e.symbolSizeMax,u=e.symbolSize,d=e.symbolRotate,m=e.symbolOffset,p=e.cursor,f=n.filter((function(e){return!~a.indexOf(e)&&e!==r})),h=[];i.forEach((function(e){t[e].forEach((function(e){h.push(e[a[1]])}))}));var v=Math.max.apply(null,h),g=[];return i.forEach((function(e){var i=[],n=t[e];n.forEach((function(e){var t={value:[]};t.value.push(e[r],e[a[0]],e[a[1]]),f.forEach((function(i){t.value.push(e[i])})),t.symbolSize=u||e[a[1]]/v*c,i.push(t)})),g.push({type:"scatter",data:i,name:e,label:o,itemStyle:s,symbol:l,symbolRotate:d,symbolOffset:m,cursor:p})})),g}var Lt=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?[e[1],e[2]]:o,l=i.dataType,c=void 0===l?{}:l,u=i.xAxisType,d=void 0===u?"category":u,m=i.xAxisName,p=i.yAxisName,f=i.digit,h=void 0===f?2:f,v=i.legendName,g=void 0===v?{}:v,y=i.labelMap,b=void 0===y?{}:y,x=i.tooltipTrigger,w=void 0===x?"item":x,M=i.axisVisible,S=void 0===M||M,O=i.symbolSizeMax,T=void 0===O?50:O,L=i.symbol,C=i.symbolSize,E=i.symbolRotate,k=i.symbolOffset,V=i.cursor,_=i.min,N=i.max,R=i.scale,P=i.label,I=i.itemStyle;if(z(t)){var j=A({},i,{xAxisName:m?[m]:void 0,yAxisName:p?[p]:void 0,scale:R?[R]:void 0,min:_?[_]:void 0,max:N?[N]:void 0,dimension:r?[r]:void 0}),F=xe(e,t,j,n);return F&&F.series?(F.series.forEach((function(e){A(e,{type:"scatter",symbol:L,symbolSize:C||10,symbolRotate:E,symbolOffset:k,cursor:V,label:P,itemStyle:I})})),F):{}}var H=n.tooltipVisible,D=n.legendVisible,B=Object.keys(t),Z=D&&wt(B,g),W=H&&Mt({tooltipTrigger:w,labelMap:b,columns:e,dataType:c,digit:h}),G=Ot({xAxisName:m,axisVisible:S,xAxisType:d,dataLabels:B,dimension:r,rows:t}),$=At({min:_,max:N,scale:R,yAxisName:p,dataType:c,metrics:s,digit:h,axisVisible:S}),Y=Tt({rows:t,dataLabels:B,columns:e,metrics:s,dimension:r,label:P,itemStyle:I,symbol:L,symbolSizeMax:T,symbolSize:C,symbolRotate:E,symbolOffset:k,cursor:V});return{legend:Z,tooltip:W,xAxis:G,yAxis:$,series:Y}},Ct=A({},me,{name:"VeScatter",data:function(){return this.chartHandler=Lt,{}}}),Et=[5,10,20,30],kt="日K",Vt="#ec0000",_t="#00da3c",Nt=50,zt=100,Rt={show:!1};function Pt(e){var t=e.showMA,i=e.MA,n=e.legendName,a=e.labelMap,r=[kt];return t&&(r=r.concat(i.map((function(e){return"MA"+e})))),a&&(r=r.map((function(e){return null==a[e]?e:a[e]}))),{data:r,formatter:function(e){return null!=n[e]?n[e]:e}}}function It(e){var t=e.metrics,i=e.dataType,n=e.digit,a=e.labelMap;return{trigger:"axis",axisPointer:{type:"cross"},position:function(e,t,i,n,a){var r={top:10},o=e[0]<a.viewSize[0]/2?"right":"left";return r[o]=60,r},formatter:function(e){var o=[];return o.push(e[0].axisValue+"<br>"),e.forEach((function(e){var s=e.data,l=e.seriesName,c=e.componentSubType,u=e.color,d=null==a[l]?l:a[l];if(o.push(r(u)+" "+d+": "),"candlestick"===c)o.push("<br>"),t.slice(0,4).forEach((function(e,t){var r=null!=a[e]?a[e]:e,l=H(s[t+1],i,n);o.push("- "+r+": "+l+"<br>")}));else if("line"===c){var m=H(s,i,n);o.push(m+"<br>")}else if("bar"===c){var p=H(s[1],i,n);o.push(p+"<br>")}})),o.join("")}}}function jt(e){var t=e.downColor,i=e.upColor,n=e.MA,a=e.showMA;return{show:!1,seriesIndex:a?1+n.length:1,dimension:2,pieces:[{value:1,color:t},{value:-1,color:i}]}}function Ft(e){var t=e.showVol;return[{left:"10%",right:"8%",top:"10%",height:t?"50%":"65%",containLabel:!1},{left:"10%",right:"8%",top:"65%",height:"16%",containLabel:!1}]}function Ht(e){var t=e.dims,i="category",n=!0,a=!1,r=Rt,o={onZero:!1},s=Rt,l=Rt,c="dataMin",u="dataMax",d=1;return[{type:i,data:t,scale:n,boundaryGap:a,axisLine:o,splitLine:r,min:c,max:u},{type:i,gridIndex:d,data:t,scale:n,boundaryGap:a,axisLine:o,axisTick:s,splitLine:r,axisLabel:l,min:c,max:u}]}function Dt(e){var t=e.dataType,i=e.digit,n=!0,a=1,r=2,o=Rt,s=Rt,l=Rt,c=Rt,u=function(e){return H(e,t,i)};return[{scale:n,axisTick:s,axisLabel:{formatter:u}},{scale:n,gridIndex:a,splitNumber:r,axisLine:o,axisTick:s,splitLine:c,axisLabel:l}]}function Bt(e){var t=e.start,i=e.end;return[{type:"inside",xAxisIndex:[0,1],start:t,end:i},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:t,end:i}]}function Zt(e){var t=e.values,i=e.volumes,n=e.upColor,a=e.downColor,r=e.showMA,o=e.MA,s=e.showVol,l=e.labelMap,c=e.digit,u=e.itemStyle,d=u||{normal:{color:n,color0:a,borderColor:null,borderColor0:null}},m={normal:{opacity:.5}},p=[{name:null==l[kt]?kt:l[kt],type:"candlestick",data:t,itemStyle:d}];return r&&o.forEach((function(e){var i="MA"+e;p.push({name:null==l[i]?i:l[i],data:Wt(e,t,c),type:"line",lineStyle:m,smooth:!0})})),s&&p.push({name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:i}),p}function Wt(e,t,i){var n=[];return t.forEach((function(a,r){if(r<e)n.push("-");else{for(var o=0,s=0;s<e;s++)o+=t[r-s][1];n.push(+(o/e).toFixed(i))}})),n}var Gt=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?e.slice(1,6):o,l=i.digit,c=void 0===l?2:l,u=i.itemStyle,d=i.labelMap,m=void 0===d?{}:d,p=i.legendName,f=void 0===p?{}:p,h=i.MA,v=void 0===h?Et:h,g=i.showMA,y=void 0!==g&&g,b=i.showVol,x=void 0!==b&&b,w=i.showDataZoom,M=void 0!==w&&w,S=i.downColor,O=void 0===S?Vt:S,A=i.upColor,T=void 0===A?_t:A,L=i.start,C=void 0===L?Nt:L,E=i.end,k=void 0===E?zt:E,V=i.dataType,_=n.tooltipVisible,N=n.legendVisible,R=z(t[0]),P=[],I=[],j=[],F=s.slice(0,4),H=s[4];R?t.forEach((function(t){var i=[];P.push(t[e.indexOf(r)]),F.forEach((function(n){i.push(t[e.indexOf(n)])})),I.push(i),H&&j.push(t[e.indexOf(H)])})):t.forEach((function(e,t){var i=[];if(P.push(e[r]),F.forEach((function(t){i.push(e[t])})),I.push(i),H){var n=e[s[0]]>e[s[1]]?1:-1;j.push([t,e[H],n])}}));var D=N&&Pt({showMA:y,MA:v,legendName:f,labelMap:m}),B=_&&It({metrics:s,dataType:V,digit:c,labelMap:m}),Z=x&&jt({downColor:O,upColor:T,MA:v,showMA:y}),W=M&&Bt({start:C,end:k}),G=Ft({showVol:x}),$=Ht({dims:P}),Y=Dt({dataType:V,digit:c}),q=Zt({values:I,volumes:j,upColor:T,downColor:O,showMA:y,MA:v,showVol:x,labelMap:m,digit:c,itemStyle:u}),J={link:{xAxisIndex:"all"}};return{legend:D,tooltip:B,visualMap:Z,grid:G,xAxis:$,yAxis:Y,dataZoom:W,series:q,axisPointer:J}},$t=A({},me,{name:"VeCandle",data:function(){return this.chartHandler=Gt,{}}});function Yt(e){var t=e.tooltipFormatter,i=e.dataType,n=e.digit;return{formatter:function(e){var a=e.seriesName,r=e.data,o=r.value,s=r.name;if(t)return t.apply(null,arguments);var l=[];return l.push(a+": "),l.push(H(o,i[a],n)+" "+s),l.join("")}}}function qt(e){var t=e.rows,i=e.dimension,n=e.metrics,a=e.digit,r=e.dataType,o=e.labelMap,s=e.seriesMap,l=e.dataName,c=t.map((function(e){var t=e[i],c=s[t],u={type:"gauge",name:null!=o[t]?o[t]:t,data:[{name:l[t]||"",value:e[n]}],detail:{formatter:function(e){return H(e,r[t],a)}},axisLabel:{formatter:function(e){return H(e,r[t],a)}}};return c&&Object.keys(c).forEach((function(e){N(u[e])?A(u[e],c[e]):u[e]=c[e]})),u}));return c}var Jt=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?e[1]:o,l=i.digit,c=void 0===l?2:l,u=i.dataType,d=void 0===u?{}:u,m=i.labelMap,p=void 0===m?{}:m,f=i.seriesMap,h=void 0===f?{}:f,v=i.dataName,g=void 0===v?{}:v,y=n.tooltipFormatter,b=n.tooltipVisible,x=b&&Yt({tooltipFormatter:y,dataType:d}),w=qt({rows:t,dimension:r,metrics:s,digit:c,dataType:d,labelMap:p,seriesMap:h,dataName:g});return{tooltip:x,series:w}},Ut=A({},me,{name:"VeGauge",data:function(){return this.chartHandler=Jt,{}}});function Xt(e){var t=e.dimension,i=e.rows,n=i.map((function(e){return e[t]}));return{data:n}}function Kt(e){var t=e.tooltipFormatter;return{trigger:"item",triggerOn:"mousemove",formatter:t}}function Qt(e){var t=e.dimension,i=e.metrics,n=e.rows,a=e.seriesMap,r=[];return n.forEach((function(e){var n=e[t],o=a[n],s={type:"tree",name:e[t],data:e[i]};a[e[t]]&&Object.keys(o).forEach((function(e){N(s[e])?A(s[e],o[e]):s[e]=o[e]})),r.push(s)})),r}var ei=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?e[1]:o,l=i.seriesMap,c=void 0===l?{}:l,u=n.legendVisible,d=n.tooltipFormatter,m=n.tooltipVisible,p=Qt({dimension:r,metrics:s,rows:t,seriesMap:c}),f=u&&t.length>1&&Xt({dimension:r,rows:t}),h=m&&Kt({tooltipFormatter:d});return{series:p,legend:f,tooltip:h}},ti=A({},me,{name:"VeTree",data:function(){return this.chartHandler=ei,{}}});function ii(e){var t=e.tooltipFormatter,i=e.dataType,n=e.digit;return{show:!0,formatter:function(e){var a=e.seriesName,r=e.value;return t?t.apply(null,arguments):[a+": ",H(r,i,n)].join("")}}}function ni(e){var t=e.dimension,i=e.metrics,n=e.seriesMap,a=e.rows,r=e.wave,o=r,s=z(n)?n.length:0;return a.slice().map((function(e,a){var l=[],c={type:"liquidFill"},u=e[t],d=Number(e[i]),m={};return z(n)?m=n[a]?n[a]:n[s-1]:N(n[u])&&(m=n[u]),z(r)&&z(r[0])&&(o=z(r[a])?r[a]:r[r.length-1]),l.push({value:d}),o&&o.length&&(l=l.concat(o.map((function(e){return{value:e}})))),c=A(c,{data:l,name:u},m),c}))}var ai=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?e[1]:o,l=i.seriesMap,c=void 0===l?{}:l,u=i.dataType,d=void 0===u?"percent":u,m=i.digit,p=void 0===m?2:m,f=i.wave,h=void 0===f?[]:f,v=n.tooltipVisible,g=n.tooltipFormatter,y=v&&ii({tooltipFormatter:g,dataType:d,digit:p}),b=ni({rows:t,columns:e,dimension:r,metrics:s,seriesMap:c,wave:h});return{tooltip:y,series:b}},ri=A({},me,{name:"VeLiquidfill",data:function(){return this.chartHandler=ai,{}}});function oi(e){var t=e.dimension,i=e.metrics,n=e.rows,a=e.color,r=e.sizeMax,o=e.sizeMin,s=e.shape,l={type:"wordCloud",textStyle:{normal:{color:!z(a)&&a?a:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},shape:s,sizeRange:[o,r]},c=z(a)?a.length:0,u=n.slice().map((function(e){var n={name:e[t],value:e[i]};return c>0&&(n.textStyle={normal:{color:a[Math.floor(Math.random()*c)]}}),n}));return l.data=u,[l]}function si(e){var t=e.tooltipFormatter;return{show:!0,formatter:function(e){var i=e.data,n=i.name,a=i.value;return t?t.apply(null,e):n+": "+a}}}var li=function(e,t,i,n){var a=i.dimension,r=void 0===a?e[0]:a,o=i.metrics,s=void 0===o?e[1]:o,l=i.color,c=void 0===l?"":l,u=i.sizeMax,d=void 0===u?60:u,m=i.sizeMin,p=void 0===m?12:m,f=i.shape,h=void 0===f?"circle":f,v=n.tooltipVisible,g=n.tooltipFormatter,y=oi({dimension:r,metrics:s,rows:t,color:c,sizeMax:d,sizeMin:p,shape:h}),b=v&&si({tooltipFormatter:g});return{series:y,tooltip:b}},ci=A({},me,{name:"VeWordcloud",data:function(){return this.chartHandler=li,{}}}),ui=[pe,fe,we,Ve,_e,Fe,We,Ue,Xe,at,ot,lt,mt,xt,Ct,$t,Ut,ti,ri,ci];function di(e,t){ui.forEach((function(t){e.component(t.name,t)}))}"undefined"!==typeof window&&window.Vue&&di(window.Vue);var mi={VeBar:pe,VeHistogram:fe,VeRing:_e,VeLine:we,VePie:Ve,VeWaterfall:Fe,VeFunnel:We,VeRadar:Ue,VeChart:Xe,VeMap:at,VeBmap:ot,VeAmap:lt,VeSankey:mt,VeScatter:Ct,VeCandle:$t,VeGauge:Ut,VeTree:ti,VeLiquidfill:ri,VeWordcloud:ci,install:di};return mi}))},"32f8":function(e,t,i){var n=i("862d"),a=i("3eba");a.extendSeriesModel({type:"series.liquidFill",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var i=n(["value"],e.data),r=new a.List(i,this);return r.initData(e.data),r},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}})},"365b":function(e,t,i){var n=i("862d"),a=i("3eba");a.extendSeriesModel({type:"series.wordCloud",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var i=n(["value"],e.data),r=new a.List(i,this);return r.initData(e.data),r},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{normal:{fontWeight:"normal"}}}})},"4ae9":function(e,t,i){var n,a=i("313e"),r=a.util,o=a.graphic,s=a.matrix;function l(e,t){this._bmap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=t,this._projection=new BMap.MercatorProjection}function c(e,t){return t=t||[0,0],r.map([0,1],(function(i){var n=t[i],a=e[i]/2,r=[],o=[];return r[i]=n-a,o[i]=n+a,r[1-i]=o[1-i]=t[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(o)[i])}),this)}function u(){function e(e){this._root=e}return e.prototype=new BMap.Overlay,e.prototype.initialize=function(e){return e.getPanes().labelPane.appendChild(this._root),this._root},e.prototype.draw=function(){},e}l.prototype.dimensions=["lng","lat"],l.prototype.setZoom=function(e){this._zoom=e},l.prototype.setCenter=function(e){this._center=this._projection.lngLatToPoint(new BMap.Point(e[0],e[1]))},l.prototype.setMapOffset=function(e){this._mapOffset=e},l.prototype.getBMap=function(){return this._bmap},l.prototype.dataToPoint=function(e){var t=new BMap.Point(e[0],e[1]),i=this._bmap.pointToOverlayPixel(t),n=this._mapOffset;return[i.x-n[0],i.y-n[1]]},l.prototype.pointToData=function(e){var t=this._mapOffset;e=this._bmap.overlayPixelToPoint({x:e[0]+t[0],y:e[1]+t[1]});return[e.lng,e.lat]},l.prototype.getViewRect=function(){var e=this._api;return new o.BoundingRect(0,0,e.getWidth(),e.getHeight())},l.prototype.getRoamTransform=function(){return s.create()},l.prototype.prepareCustoms=function(e){var t=this.getViewRect();return{coordSys:{type:"bmap",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:r.bind(this.dataToPoint,this),size:r.bind(c,this)}}},l.dimensions=l.prototype.dimensions,l.create=function(e,t){var i,a=t.getDom();e.eachComponent("bmap",(function(e){var r=t.getZr().painter,o=r.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(n=n||u(),i)throw new Error("Only one bmap component can exist");if(!e.__bmap){var s=a.querySelector(".ec-extension-bmap");s&&(o.style.left="0px",o.style.top="0px",a.removeChild(s)),s=document.createElement("div"),s.style.cssText="width:100%;height:100%",s.classList.add("ec-extension-bmap"),a.appendChild(s);var c=e.get("mapOptions")||{};delete c.mapType;var d=e.__bmap=new BMap.Map(s,c),m=new n(o);d.addOverlay(m),r.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}d=e.__bmap;var p=e.get("center"),f=e.get("zoom");if(p&&f){var h=d.getCenter(),v=d.getZoom(),g=e.centerOrZoomChanged([h.lng,h.lat],v);if(g){var y=new BMap.Point(p[0],p[1]);d.centerAndZoom(y,f)}}i=new l(d,t),i.setMapOffset(e.__mapOffset||[0,0]),i.setZoom(f),i.setCenter(p),e.coordinateSystem=i})),e.eachSeries((function(e){"bmap"===e.get("coordinateSystem")&&(e.coordinateSystem=i)}))};var d=l;e.exports=d},"5d99":function(e,t,i){var n=i("313e");function a(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}var r=n.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,t){var i=this.option;return!(a(e,i.center)&&t===i.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}});e.exports=r},"793f":function(e,t,i){"use strict";var n,a;
/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],t="zero-timeout-message",i=function(i){var n=e.length;return e.push(i),window.postMessage(t+n.toString(36),"*"),n};return window.addEventListener("message",(function(i){if("string"===typeof i.data&&i.data.substr(0,t.length)===t){i.stopImmediatePropagation();var n=parseInt(i.data.substr(t.length),36);e[n]&&(e[n](),e[n]=void 0)}}),!0),window.clearImmediate=function(t){e[t]&&(e[t]=void 0)},i}()||function(e){window.setTimeout(e,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)}}()),function(i){var r=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var t=e.getContext("2d");return!!t.getImageData&&(!!t.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),o=function(){if(r){var e,t,i=document.createElement("canvas").getContext("2d"),n=20;while(n){if(i.font=n.toString(10)+"px sans-serif",i.measureText("Ｗ").width===e&&i.measureText("m").width===t)return n+1;e=i.measureText("Ｗ").width,t=i.measureText("m").width,n--}return 0}}(),s=function(e){for(var t,i,n=e.length;n;t=Math.floor(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},l=function(e,t){if(r){Array.isArray(e)||(e=[e]),e.forEach((function(t,i){if("string"===typeof t){if(e[i]=document.getElementById(t),!e[i])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."}));var i={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(t)for(var n in t)n in i&&(i[n]=t[n]);if("function"!==typeof i.weightFactor){var a=i.weightFactor;i.weightFactor=function(e){return e*a}}if("function"!==typeof i.shape)switch(i.shape){case"circle":default:i.shape="circle";break;case"cardioid":i.shape=function(e){return 1-Math.sin(e)};break;case"diamond":case"square":i.shape=function(e){var t=e%(2*Math.PI/4);return 1/(Math.cos(t)+Math.sin(t))};break;case"triangle-forward":i.shape=function(e){var t=e%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"triangle":case"triangle-upright":i.shape=function(e){var t=(e+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"pentagon":i.shape=function(e){var t=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(t)+.726543*Math.sin(t))};break;case"star":i.shape=function(e){var t=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-t)+3.07768*Math.sin(2*Math.PI/10-t)):1/(Math.cos(t)+3.07768*Math.sin(t))};break}i.gridSize=Math.max(Math.floor(i.gridSize),4);var l,c,u,d,m,p,f,h=i.gridSize,v=h-i.maskGapWidth,g=Math.abs(i.maxRotation-i.minRotation),y=Math.min(i.maxRotation,i.minRotation),b=i.rotationStep;switch(i.color){case"random-dark":f=function(){return F(10,50)};break;case"random-light":f=function(){return F(50,90)};break;default:"function"===typeof i.color&&(f=i.color);break}var x=null;"function"===typeof i.classes&&(x=i.classes);var w,M=!1,S=[],O=function(e){var t,i,n=e.currentTarget,a=n.getBoundingClientRect();e.touches?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY);var r=t-a.left,o=i-a.top,s=Math.floor(r*(n.width/a.width||1)/h),l=Math.floor(o*(n.height/a.height||1)/h);return S[s][l]},A=function(e){var t=O(e);w!==t&&(w=t,t?i.hover(t.item,t.dimension,e):i.hover(void 0,void 0,e))},T=function(e){var t=O(e);t&&(i.click(t.item,t.dimension,e),e.preventDefault())},L=[],C=function(e){if(L[e])return L[e];var t=8*e,n=t,a=[];0===e&&a.push([d[0],d[1],0]);while(n--){var r=1;"circle"!==i.shape&&(r=i.shape(n/t*2*Math.PI)),a.push([d[0]+e*r*Math.cos(-n/t*2*Math.PI),d[1]+e*r*Math.sin(-n/t*2*Math.PI)*i.ellipticity,n/t*2*Math.PI])}return L[e]=a,a},E=function(){return i.abortThreshold>0&&(new Date).getTime()-p>i.abortThreshold},k=function(){return 0===i.rotateRatio||Math.random()>i.rotateRatio?0:0===g?y:y+Math.round(Math.random()*g/b)*b},V=function(e,t,n){var a=!1,r=i.weightFactor(t);if(r<=i.minSize)return!1;var s=1;r<o&&(s=function(){var e=2;while(e*r<o)e+=2;return e}());var l=document.createElement("canvas"),c=l.getContext("2d",{willReadFrequently:!0});c.font=i.fontWeight+" "+(r*s).toString(10)+"px "+i.fontFamily;var u=c.measureText(e).width/s,d=Math.max(r*s,c.measureText("m").width,c.measureText("Ｗ").width)/s,m=u+2*d,p=3*d,f=Math.ceil(m/h),v=Math.ceil(p/h);m=f*h,p=v*h;var g=-u/2,y=.4*-d,b=Math.ceil((m*Math.abs(Math.sin(n))+p*Math.abs(Math.cos(n)))/h),x=Math.ceil((m*Math.abs(Math.cos(n))+p*Math.abs(Math.sin(n)))/h),w=x*h,M=b*h;l.setAttribute("width",w),l.setAttribute("height",M),a&&(document.body.appendChild(l),c.save()),c.scale(1/s,1/s),c.translate(w*s/2,M*s/2),c.rotate(-n),c.font=i.fontWeight+" "+(r*s).toString(10)+"px "+i.fontFamily,c.fillStyle="#000",c.textBaseline="middle",c.fillText(e,g*s,(y+.5*r)*s);var S=c.getImageData(0,0,w,M).data;if(E())return!1;a&&(c.strokeRect(g*s,y,u*s,d*s),c.restore());var O,A,T,L=[],C=x,k=[b/2,x/2,b/2,x/2];while(C--){O=b;while(O--){T=h;e:{while(T--){A=h;while(A--)if(S[4*((O*h+T)*w+(C*h+A))+3]){L.push([C,O]),C<k[3]&&(k[3]=C),C>k[1]&&(k[1]=C),O<k[0]&&(k[0]=O),O>k[2]&&(k[2]=O),a&&(c.fillStyle="rgba(255, 0, 0, 0.5)",c.fillRect(C*h,O*h,h-.5,h-.5));break e}}a&&(c.fillStyle="rgba(0, 0, 255, 0.5)",c.fillRect(C*h,O*h,h-.5,h-.5))}}}return a&&(c.fillStyle="rgba(0, 255, 0, 0.5)",c.fillRect(k[3]*h,k[0]*h,(k[1]-k[3]+1)*h,(k[2]-k[0]+1)*h)),{mu:s,occupied:L,bounds:k,gw:x,gh:b,fillTextOffsetX:g,fillTextOffsetY:y,fillTextWidth:u,fillTextHeight:d,fontSize:r}},_=function(e,t,n,a,r){var o=r.length;while(o--){var s=e+r[o][0],d=t+r[o][1];if(s>=c||d>=u||s<0||d<0){if(!i.drawOutOfBound)return!1}else if(!l[s][d])return!1}return!0},N=function(t,n,a,r,o,s,l,c,u){var d,m,p=a.fontSize;d=f?f(r,o,p,s,l):i.color,m=x?x(r,o,p,s,l):i.classes;var v=a.bounds;v[3],v[0],v[1],v[3],v[2],v[0],e.forEach((function(e){if(e.getContext){var o=e.getContext("2d"),s=a.mu;o.save(),o.scale(1/s,1/s),o.font=i.fontWeight+" "+(p*s).toString(10)+"px "+i.fontFamily,o.fillStyle=d,o.translate((t+a.gw/2)*h*s,(n+a.gh/2)*h*s),0!==c&&o.rotate(-c),o.textBaseline="middle",o.fillText(r,a.fillTextOffsetX*s,(a.fillTextOffsetY+.5*p)*s),o.restore()}else{var l=document.createElement("span"),f="";f="rotate("+-c/Math.PI*180+"deg) ",1!==a.mu&&(f+="translateX(-"+a.fillTextWidth/4+"px) scale("+1/a.mu+")");var v={position:"absolute",display:"block",font:i.fontWeight+" "+p*a.mu+"px "+i.fontFamily,left:(t+a.gw/2)*h+a.fillTextOffsetX+"px",top:(n+a.gh/2)*h+a.fillTextOffsetY+"px",width:a.fillTextWidth+"px",height:a.fillTextHeight+"px",lineHeight:p+"px",whiteSpace:"nowrap",transform:f,webkitTransform:f,msTransform:f,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var g in d&&(v.color=d),l.textContent=r,v)l.style[g]=v[g];if(u)for(var y in u)l.setAttribute(y,u[y]);m&&(l.className+=m),e.appendChild(l)}}))},z=function(t,i,n,a,r){if(!(t>=c||i>=u||t<0||i<0)){if(l[t][i]=!1,n){var o=e[0].getContext("2d");o.fillRect(t*h,i*h,v,v)}M&&(S[t][i]={item:r,dimension:a})}},R=function(t,n,a,r,o,s){var l,d,m=o.occupied,p=i.drawMask;if(p&&(l=e[0].getContext("2d"),l.save(),l.fillStyle=i.maskColor),M){var f=o.bounds;d={x:(t+f[3])*h,y:(n+f[0])*h,w:(f[1]-f[3]+1)*h,h:(f[2]-f[0]+1)*h}}var v=m.length;while(v--){var g=t+m[v][0],y=n+m[v][1];g>=c||y>=u||g<0||y<0||z(g,y,p,d,s)}p&&l.restore()},P=function(e){var t,n,a;Array.isArray(e)?(t=e[0],n=e[1]):(t=e.word,n=e.weight,a=e.attributes);var r=k(),o=V(t,n,r);if(!o)return!1;if(E())return!1;if(!i.drawOutOfBound){var l=o.bounds;if(l[1]-l[3]+1>c||l[2]-l[0]+1>u)return!1}var d=m+1,p=function(i){var s=Math.floor(i[0]-o.gw/2),l=Math.floor(i[1]-o.gh/2),c=o.gw,u=o.gh;return!!_(s,l,c,u,o.occupied)&&(N(s,l,o,t,n,m-d,i[2],r,a),R(s,l,c,u,o,e),{gx:s,gy:l,rot:r,info:o})};while(d--){var f=C(m-d);i.shuffle&&(f=[].concat(f),s(f));for(var h=0;h<f.length;h++){var v=p(f[h]);if(v)return v}}return null},I=function(t,i,n){if(i)return!e.some((function(e){var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,!0,i,n||{}),!e.dispatchEvent(a)}),this);e.forEach((function(e){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,i,n||{}),e.dispatchEvent(a)}),this)},j=function(){var t=e[0];if(t.getContext)c=Math.ceil(t.width/h),u=Math.ceil(t.height/h);else{var n=t.getBoundingClientRect();c=Math.ceil(n.width/h),u=Math.ceil(n.height/h)}if(I("wordcloudstart",!0)){var a,r,o,s,f;if(d=i.origin?[i.origin[0]/h,i.origin[1]/h]:[c/2,u/2],m=Math.floor(Math.sqrt(c*c+u*u)),l=[],!t.getContext||i.clearCanvas){e.forEach((function(e){if(e.getContext){var t=e.getContext("2d");t.fillStyle=i.backgroundColor,t.clearRect(0,0,c*(h+1),u*(h+1)),t.fillRect(0,0,c*(h+1),u*(h+1))}else e.textContent="",e.style.backgroundColor=i.backgroundColor,e.style.position="relative"})),a=c;while(a--){l[a]=[],r=u;while(r--)l[a][r]=!0}}else{var v=document.createElement("canvas").getContext("2d");v.fillStyle=i.backgroundColor,v.fillRect(0,0,1,1);var g,y,b=v.getImageData(0,0,1,1).data,x=t.getContext("2d").getImageData(0,0,c*h,u*h).data;a=c;while(a--){l[a]=[],r=u;while(r--){y=h;e:while(y--){g=h;while(g--){o=4;while(o--)if(x[4*((r*h+y)*c*h+(a*h+g))+o]!==b[o]){l[a][r]=!1;break e}}}!1!==l[a][r]&&(l[a][r]=!0)}}x=v=b=void 0}if(i.hover||i.click){M=!0,a=c+1;while(a--)S[a]=[];i.hover&&t.addEventListener("mousemove",A),i.click&&(t.addEventListener("click",T),t.addEventListener("touchstart",T),t.addEventListener("touchend",(function(e){e.preventDefault()})),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",(function e(){t.removeEventListener("wordcloudstart",e),t.removeEventListener("mousemove",A),t.removeEventListener("click",T),w=void 0}))}o=0,0!==i.wait?(s=window.setTimeout,f=window.clearTimeout):(s=window.setImmediate,f=window.clearImmediate);var O=function(t,i){e.forEach((function(e){e.addEventListener(t,i)}),this)},L=function(t,i){e.forEach((function(e){e.removeEventListener(t,i)}),this)},C=function e(){L("wordcloudstart",e),f(k)};O("wordcloudstart",C);var k=s((function e(){if(o>=i.list.length)return f(k),I("wordcloudstop",!1),void L("wordcloudstart",C);p=(new Date).getTime();var t=P(i.list[o]),n=!I("wordclouddrawn",!0,{item:i.list[o],drawn:t});if(E()||n)return f(k),i.abort(),I("wordcloudabort",!1),I("wordcloudstop",!1),void L("wordcloudstart",C);o++,k=s(e,i.wait)}),i.wait)}};j()}function F(e,t){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(t-e)+e).toFixed()+"%)"}};l.isSupported=r,l.minFontSize=o,n=[],a=function(){return l}.apply(t,n),void 0===a||(e.exports=a)}()},"87a1":function(e,t,i){e.exports=i("0a4f")},a00a:function(e,t,i){var n=i("313e"),a=i("4ae9");i("5d99"),i("2114"),n.registerCoordinateSystem("bmap",a),n.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},(function(e,t){t.eachComponent("bmap",(function(e){var t=e.getBMap(),i=t.getCenter();e.setCenterAndZoom([i.lng,i.lat],t.getZoom())}))}));var r="1.0.0";t.version=r},a98e:function(e,t,i){var n=i("3eba");i("32f8"),i("cb7d"),n.registerVisual(n.util.curry(i("98e7"),"liquidFill"))},c03d:function(e,t,i){var n=i("3eba");n.extendChartView({type:"wordCloud",render:function(e,t,i){var a=this.group;a.removeAll();var r=e.getData(),o=e.get("gridSize");e.layoutInstance.ondraw=function(e,t,i,s){var l=r.getItemModel(i),c=l.getModel("textStyle.normal"),u=l.getModel("textStyle.emphasis"),d=new n.graphic.Text({style:n.graphic.setTextStyle({},c,{x:s.info.fillTextOffsetX,y:s.info.fillTextOffsetY+.5*t,text:e,textBaseline:"middle",textFill:r.getItemVisual(i,"color"),fontSize:t}),scale:[1/s.info.mu,1/s.info.mu],position:[(s.gx+s.info.gw/2)*o,(s.gy+s.info.gh/2)*o],rotation:s.rot});a.add(d),r.setItemGraphicEl(i,d),n.graphic.setHoverStyle(d,n.graphic.setTextStyle({},u,null,{forMerge:!0},!0))},this._model=e},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}})},cb7d:function(e,t,i){var n=i("3eba"),a=n.number,r=i("a15a"),o=a.parsePercent,s=i("ccf7");n.extendChartView({type:"liquidFill",render:function(e,t,i){var a=this.group;a.removeAll();var l=e.getData(),c=l.getItemModel(0),u=c.get("center"),d=c.get("radius"),m=i.getWidth(),p=i.getHeight(),f=Math.min(m,p),h=0,v=0,g=e.get("outline.show");g&&(h=e.get("outline.borderDistance"),v=o(e.get("outline.itemStyle.borderWidth"),f));var y,b,x,w=o(u[0],m),M=o(u[1],p),S=!1,O=e.get("shape");if("container"===O?(S=!0,y=[m/2,p/2],b=[y[0]-v/2,y[1]-v/2],x=[o(h,m),o(h,p)],d=[Math.max(b[0]-x[0],0),Math.max(b[1]-x[1],0)]):(y=o(d,f)/2,b=y-v/2,x=o(h,f),d=Math.max(b-x,0)),g){var A=_();A.style.lineWidth=v,a.add(_())}var T=S?0:w-d,L=S?0:M-d,C=null;a.add(N());var E=this._data,k=[];function V(e,t){if(O){if(0===O.indexOf("path://")){var i=n.graphic.makePath(O.slice(7),{}),a=i.getBoundingRect(),o=a.width,s=a.height;o>s?(s*=2*e/o,o=2*e):(o*=2*e/s,s=2*e);var l=t?0:w-o/2,c=t?0:M-s/2;return i=n.graphic.makePath(O.slice(7),{},new n.graphic.BoundingRect(l,c,o,s)),t&&(i.position=[-o/2,-s/2]),i}if(S){var u=t?-e[0]:w-e[0],d=t?-e[1]:M-e[1];return r.createSymbol("rect",u,d,2*e[0],2*e[1])}u=t?-e:w-e,d=t?-e:M-e;return"pin"===O?d+=e:"arrow"===O&&(d-=e),r.createSymbol(O,u,d,2*e,2*e)}return new n.graphic.Circle({shape:{cx:t?0:w,cy:t?0:M,r:e}})}function _(){var t=V(y);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function N(){var t=V(d);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var i=V(d);i.setStyle(e.getModel("backgroundStyle").getItemStyle()),i.style.stroke=null;var a=new n.graphic.Group;return a.add(t),a.add(i),a}function z(t,i,a){var r=S?d[0]:d,c=S?p/2:d,u=l.getItemModel(t),m=u.getModel("itemStyle"),f=u.get("phase"),h=o(u.get("amplitude"),2*c),v=o(u.get("waveLength"),2*r),g=l.get("value",t),y=c-g*c*2;f=a?a.shape.phase:"auto"===f?t*Math.PI/4:f;var b=m.getItemStyle();if(!b.fill){var x=e.get("color"),O=t%x.length;b.fill=x[O]}var A=2*r,T=new s({shape:{waveLength:v,radius:r,radiusY:c,cx:A,cy:0,waterLevel:y,amplitude:h,phase:f,inverse:i},style:b,position:[w,M]});T.shape._waterLevel=y;var L=u.getModel("emphasis.itemStyle").getItemStyle();L.lineWidth=0,n.graphic.setHoverStyle(T,L);var C=V(d,!0);return C.setStyle({fill:"white"}),T.setClipPath(C),T}function R(e,t,i){var n=l.getItemModel(e),a=n.get("period"),r=n.get("direction"),o=l.get("value",e),s=n.get("phase");s=i?i.shape.phase:"auto"===s?e*Math.PI/4:s;var c=function(t){var i=l.count();return 0===i?t:t*(.2+(i-e)/i*.8)},u=0;u="auto"===a?c(5e3):"function"===typeof a?a(o,e):a;var d=0;"right"===r||null==r?d=Math.PI:"left"===r?d=-Math.PI:"none"===r?d=0:console.error("Illegal direction value for liquid fill."),"none"!==r&&n.get("waveAnimation")&&t.animate("shape",!0).when(0,{phase:s}).when(u/2,{phase:d+s}).when(u,{phase:2*d+s}).during((function(){C&&C.dirty(!0)})).start()}function P(t){var i=c.getModel("label");function a(){var t=e.getFormattedLabel(0,"normal"),i=100*l.get("value",0),n=l.getName(0)||e.name;return isNaN(i)||(n=i.toFixed(0)+"%"),null==t?n:t}var r={z2:10,shape:{x:T,y:L,width:2*(S?d[0]:d),height:2*(S?d[1]:d)},style:{fill:"transparent",text:a(),textAlign:i.get("align"),textVerticalAlign:i.get("baseline")},silent:!0},o=new n.graphic.Rect(r),s=i.get("color");n.graphic.setText(o.style,i,s);var u=new n.graphic.Rect(r),m=i.get("insideColor");n.graphic.setText(u.style,i,m),u.style.textFill=m;var p=new n.graphic.Group;p.add(o),p.add(u);var f=V(d,!0);return C=new n.graphic.CompoundPath({shape:{paths:t},position:[w,M]}),C.setClipPath(f),u.setClipPath(C),p}l.diff(E).add((function(t){var i=z(t,!1),r=i.shape.waterLevel;i.shape.waterLevel=S?p/2:d,n.graphic.initProps(i,{shape:{waterLevel:r}},e),i.z2=2,R(t,i,null),a.add(i),l.setItemGraphicEl(t,i),k.push(i)})).update((function(t,i){for(var r=E.getItemGraphicEl(i),o=z(t,!1,r),s={},c=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],u=0;u<c.length;++u){var d=c[u];o.shape.hasOwnProperty(d)&&(s[d]=o.shape[d])}var m={},f=["fill","opacity","shadowBlur","shadowColor"];for(u=0;u<f.length;++u){d=f[u];o.style.hasOwnProperty(d)&&(m[d]=o.style[d])}S&&(s.radiusY=p/2),n.graphic.updateProps(r,{shape:s},e),r.useStyle(m),r.position=o.position,r.setClipPath(o.clipPath),r.shape.inverse=o.inverse,R(t,r,r),a.add(r),l.setItemGraphicEl(t,r),k.push(r)})).remove((function(e){var t=E.getItemGraphicEl(e);a.remove(t)})).execute(),c.get("label.show")&&a.add(P(k)),this._data=l},dispose:function(){}})},ccf7:function(e,t,i){var n=i("3eba");function a(e,t,i,n){return 0===t?[[e+.5*i/Math.PI/2,n/2],[e+.5*i/Math.PI,n],[e+i/4,n]]:1===t?[[e+.5*i/Math.PI/2*(Math.PI-2),n],[e+.5*i/Math.PI/2*(Math.PI-1),n/2],[e+i/4,0]]:2===t?[[e+.5*i/Math.PI/2,-n/2],[e+.5*i/Math.PI,-n],[e+i/4,-n]]:[[e+.5*i/Math.PI/2*(Math.PI-2),-n],[e+.5*i/Math.PI/2*(Math.PI-1),-n/2],[e+i/4,0]]}e.exports=n.graphic.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){null==t.radiusY&&(t.radiusY=t.radius);var i=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);while(t.phase<2*-Math.PI)t.phase+=2*Math.PI;while(t.phase>0)t.phase-=2*Math.PI;var n=t.phase/Math.PI/2*t.waveLength,r=t.cx-t.radius+n-2*t.radius;e.moveTo(r,t.waterLevel);for(var o=0,s=0;s<i;++s){var l=s%4,c=a(s*t.waveLength/4,l,t.waveLength,t.amplitude);e.bezierCurveTo(c[0][0]+r,-c[0][1]+t.waterLevel,c[1][0]+r,-c[1][1]+t.waterLevel,c[2][0]+r,-c[2][1]+t.waterLevel),s===i-1&&(o=c[2][0])}t.inverse?(e.lineTo(o+r,t.cy-t.radiusY),e.lineTo(r,t.cy-t.radiusY),e.lineTo(r,t.waterLevel)):(e.lineTo(o+r,t.cy+t.radiusY),e.lineTo(r,t.cy+t.radiusY),e.lineTo(r,t.waterLevel)),e.closePath()}})},d015:function(e,t,i){e.exports=i("a98e")}}]);